<!DOCTYPE html>
{% load static %}
{% load humanize %}
<html lang="fa" dir="rtl">
<head>
     <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

   {% if restaurant.isSeo %}
        <title>Ù…Ù†ÙˆÛŒ Ø¯ÛŒØ¬ÛŒØªØ§Ù„ {{ restaurant.title }} | Ø³ÙØ§Ø±Ø´ Ø¢Ù†Ù„Ø§ÛŒÙ† ØºØ°Ø§</title>
        <meta name="description" content="Ù…Ù†ÙˆÛŒ Ø¯ÛŒØ¬ÛŒØªØ§Ù„ Ø±Ø³ØªÙˆØ±Ø§Ù† {{ restaurant.title }} - {{ restaurant.text|striptags|truncatechars:150|default:'Ø³ÙØ§Ø±Ø´ Ø¢Ù†Ù„Ø§ÛŒÙ† ØºØ°Ø§ Ø¨Ø§ Ø¨Ù‡ØªØ±ÛŒÙ† Ú©ÛŒÙÛŒØª Ùˆ Ø³Ø±ÛŒØ¹â€ŒØªØ±ÛŒÙ† Ø²Ù…Ø§Ù† Ø¢Ù…Ø§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ' }}">
        <meta property="og:title" content="Ù…Ù†ÙˆÛŒ Ø¯ÛŒØ¬ÛŒØªØ§Ù„ {{ restaurant.title }}">
        <meta property="og:description" content="{{ restaurant.text|striptags|truncatechars:150|default:'Ø³ÙØ§Ø±Ø´ Ø¢Ù†Ù„Ø§ÛŒÙ† ØºØ°Ø§ Ø§Ø² Ø±Ø³ØªÙˆØ±Ø§Ù† '|add:restaurant.title }}">
        <meta property="og:type" content="website">
        <meta property="og:locale" content="fa_IR">
        <meta property="og:site_name" content="{{ restaurant.title }}">
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:title" content="Ù…Ù†ÙˆÛŒ Ø¯ÛŒØ¬ÛŒØªØ§Ù„ {{ restaurant.title }}">
        <meta name="twitter:description" content="{{ restaurant.text|striptags|truncatechars:150|default:'Ø³ÙØ§Ø±Ø´ Ø¢Ù†Ù„Ø§ÛŒÙ† ØºØ°Ø§ Ø§Ø² Ø±Ø³ØªÙˆØ±Ø§Ù† '|add:restaurant.title }}">
        <meta name="robots" content="index, follow">
        <meta name="author" content="{{ restaurant.title }}">
        <meta name="copyright" content="{{ restaurant.title }}">
        <meta name="language" content="fa">
        <meta name="coverage" content="Worldwide">
        <meta name="distribution" content="Global">
        <meta name="rating" content="General">
        <meta name="revisit-after" content="7 days">
        <link rel="canonical" href="{{ request.build_absolute_uri }}">
        <meta name="format-detection" content="telephone=no">
        <meta name="HandheldFriendly" content="True">
        <meta name="MobileOptimized" content="320">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
   {% endif %}

    <!-- Favicon -->
    {% if restaurant.logo %}
    <link rel="icon" href="{{ restaurant.logo.url }}" type="image/x-icon">
    <link rel="shortcut icon" href="{{ restaurant.logo.url }}" type="image/x-icon">
    {% else %}
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ½ï¸</text></svg>">
    {% endif %}

    <link rel="stylesheet" href="{% static '/assets/css/tailwind.min.css' %}">
    <link rel="stylesheet" href="{% static '/assets/css/bitstrap.css' %}">
    <link rel="stylesheet" href="{% static '/assets/css/all.min.css' %}">


    {% if restaurant.isSeo %}
      <script type="application/ld+json">
        {
        "@context": "https://schema.org",
        "@type": "FoodEstablishment",
        "@id": "{{ request.build_absolute_uri }}#restaurant",
        "name": "{{ restaurant.title }}",
        "description": "{{ restaurant.description|striptags|truncatechars:200|default:restaurant.text|striptags|truncatechars:200 }}",
        "url": "{{ request.build_absolute_uri }}",
        "telephone": "{{ restaurant.phone|default:'' }}",
        "address": {
            "@type": "PostalAddress",
            "streetAddress": "{{ restaurant.address|default:'' }}"
        },
        "openingHours": [
            {% if restaurant.openingTime and restaurant.closingTime %}
            "{{ restaurant.openingTime|time:'H:i' }}-{{ restaurant.closingTime|time:'H:i' }}"
            {% else %}
            "Mo-Su"
            {% endif %}
        ],
        "servesCuisine": [
            {% for menu_category in menu_categories %}
            "{{ menu_category.category.title }}"{% if not forloop.last %},{% endif %}
            {% endfor %}
        ],
        "menu": "{{ request.build_absolute_uri }}",
        "hasMenu": {
            "@type": "Menu",
            "name": "Ù…Ù†ÙˆÛŒ Ø¯ÛŒØ¬ÛŒØªØ§Ù„ {{ restaurant.title }}",
            "url": "{{ request.build_absolute_uri }}",
            "hasMenuSection": [
            {% for menu_category in menu_categories %}
            {
                "@type": "MenuSection",
                "name": "{{ menu_category.customTitle|default:menu_category.category.title }}",
                "hasMenuItem": [
                {% for food in foods %}
                {% if food.menuCategory.id == menu_category.id %}
                {
                    "@type": "MenuItem",
                    "name": "{{ food.title }}",
                    "description": "{{ food.description|default:'' }}",
                    "image": "{% if food.image %}{{ food.image.url }}{% endif %}",
                    "offers": {
                    "@type": "Offer",
                    "price": "{{ food.price }}",
                    "priceCurrency": "IRR"
                    }{% if food.preparationTime %},
                    "prepTime": "PT{{ food.preparationTime }}M"{% endif %}
                }{% if not forloop.last %},{% endif %}
                {% endif %}
                {% endfor %}
                ]
            }{% if not forloop.last %},{% endif %}
            {% endfor %}
            ]
        }
        }
      </script>
    {% endif %}

    <link rel="stylesheet" href="{% static 'assets/css/restaurant33.css' %}">

    <style>
        /* Ø±ÙØ¹ Ù…Ø´Ú©Ù„ dark mode Ø¨Ø±Ø§ÛŒ Ù‡Ø¯Ø± */
        .dark-mode header {
            background-color: #1e293b !important;
            border-bottom-color: #334155 !important;
        }

        .dark-mode .search-container {
            background-color: #1e293b !important;
            border-top-color: #334155 !important;
        }

        .dark-mode .search-box {
            background-color: #334155 !important;
            border-color: #475569 !important;
        }

        .dark-mode .search-box input {
            color: #e2e8f0 !important;
        }

        .dark-mode .search-box input::placeholder {
            color: #94a3b8 !important;
        }

        /* Ø±ÙØ¹ Ù…Ø´Ú©Ù„ ÙØ§ØµÙ„Ù‡ Ø¬Ø³ØªØ¬Ùˆ */
        .main-content {
            padding-top: 185px !important; /* Ø§ÙØ²Ø§ÛŒØ´ Ø¨ÛŒØ´ØªØ± ÙØ§ØµÙ„Ù‡ Ø§Ø² Ù‡Ø¯Ø± */
        }

        /* Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ¯Ø§Ù„ Ø±Ø²Ø±Ùˆ Ø¨Ø±Ø§ÛŒ dark mode */
        .dark-mode .modal-content {
            background-color: #1e293b;
            color: #e2e8f0;
        }

        .dark-mode .modal-header {
            border-bottom-color: #334155;
        }

        .dark-mode .form-control {
            background-color: #334155;
            border-color: #475569;
            color: #e2e8f0;
        }

        .dark-mode .form-control:focus {
            background-color: #334155;
            border-color: #3b82f6;
            color: #e2e8f0;
        }

        .dark-mode .form-label {
            color: #e2e8f0;
        }

        .hidden {
            display: none !important;
        }

        /* Ù…Ø·Ù…Ø¦Ù† Ø´ÙˆÛŒÙ… Ù…ÙˆØ¯Ø§Ù„ Ø±Ø²Ø±Ùˆ Ù¾Ø´Øª ØªÙ‚ÙˆÛŒÙ… Ù‚Ø±Ø§Ø± Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ø¯ */
        #reservationModal {
            z-index: 9990 !important;
        }

        .modal-backdrop {
            z-index: 9980 !important;
        }

        /* Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯ Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø±Øª ØºØ°Ø§ */
        .food-card {
            height: auto !important;
            min-height: 140px !important;
            margin-bottom: 8px;
            width: 100%;
            margin-left: auto;
            margin-right: auto;
        }

        .food-card-inner {
            flex-direction: row;
            height: 100%;
            width: 100%;
        }

        .food-image-container {
            width: 35% !important;
            flex-shrink: 0;
            cursor: pointer;
            position: relative;
            display: flex;
            align-items: stretch;
        }

        .food-image-container::after {
            content: 'ğŸ”';
            position: absolute;
            top: 5px;
            left: 5px;
            background: rgba(0,0,0,0.6);
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .food-image-container:hover::after {
            opacity: 1;
        }

        .food-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 8px 0 0 8px !important;
            transition: transform 0.3s ease;
        }

        .food-image-container:hover .food-image {
            transform: scale(1.05);
        }

        .food-details {
            width: 65% !important;
            padding: 10px 12px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .food-content {
            padding: 0 !important;
            margin-bottom: 6px;
        }

        .food-title {
            font-size: 0.9rem !important;
            line-height: 1.3;
            margin-bottom: 4px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .food-description {
            font-size: 0.75rem !important;
            line-height: 1.4;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
            display: -webkit-box;
            margin-bottom: 6px;
        }

        .food-price {
            font-size: 0.85rem !important;
            white-space: nowrap;
        }

        .food-card-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: auto;
        }

        .cooking-time {
            font-size: 0.7rem !important;
            padding: 4px 8px;
        }

        .sound-btn {
            padding: 4px !important;
            font-size: 0.7rem;
        }

        .order-btn {
            font-size: 0.75rem !important;
            padding: 6px 12px !important;
            min-width: 65px !important;
            white-space: nowrap;
        }

        /* ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ú¯Ø±ÛŒØ¯ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø¨Ù‡ØªØ± Ø¯Ø± Ù…ÙˆØ¨Ø§ÛŒÙ„ */
        .food-grid {
            grid-template-columns: 1fr !important;
            gap: 8px !important;
            width: 100%;
            max-width: 100%;
            padding: 0 4px;
        }

        @media (min-width: 640px) {
            .food-grid {
                grid-template-columns: repeat(2, 1fr) !important;
                gap: 10px !important;
                padding: 0 8px;
            }
        }

        @media (min-width: 1024px) {
            .food-grid {
                grid-template-columns: repeat(3, 1fr) !important;
                gap: 12px !important;
                padding: 0 12px;
            }
        }

        /* Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯ Ø¨Ø±Ø§ÛŒ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ */
        .reservation-btn span {
            white-space: nowrap;
        }

        .lang-btn {
            white-space: nowrap;
        }

        /* Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯ Ø¨Ø±Ø§ÛŒ Ø¨Ø®Ø´ ØªÙˆØ¶ÛŒØ­Ø§Øª Ø±Ø³ØªÙˆØ±Ø§Ù† */
        .description-container {
            margin: 20px auto;
            max-width: 100%;
            padding: 0 8px;
        }

        /* Ù…ÙˆØ¯Ø§Ù„ Ù†Ù…Ø§ÛŒØ´ Ø¹Ú©Ø³ Ø¨Ø²Ø±Ú¯ */
        .image-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .image-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .image-modal-content {
            background: white;
            border-radius: 16px;
            max-width: 95%;
            max-height: 90%;
            width: auto;
            height: auto;
            position: relative;
            transform: scale(0.8);
            transition: transform 0.3s ease;
            margin: 0 8px;
        }

        .image-modal.active .image-modal-content {
            transform: scale(1);
        }

        .dark-mode .image-modal-content {
            background: #1e293b;
        }

        .image-modal-img {
            width: 100%;
            height: auto;
            max-height: 60vh;
            object-fit: contain;
            border-radius: 16px 16px 0 0;
        }

        .image-modal-details {
            padding: 16px;
        }

        .image-modal-title {
            font-size: 1.2rem;
            font-weight: 700;
            margin-bottom: 8px;
            color: #1e293b;
        }

        .dark-mode .image-modal-title {
            color: #f8fafc;
        }

        .image-modal-description {
            font-size: 0.9rem;
            line-height: 1.5;
            color: #64748b;
            margin-bottom: 12px;
        }

        .dark-mode .image-modal-description {
            color: #94a3b8;
        }

        .image-modal-price {
            font-size: 1.1rem;
            font-weight: 700;
            color: #3b82f6;
            margin-bottom: 12px;
        }

        .image-modal-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 12px;
            border-top: 1px solid #e2e8f0;
        }

        .dark-mode .image-modal-info {
            border-top: 1px solid #334155;
        }

        .image-modal-close {
            position: absolute;
            top: 12px;
            left: 12px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 1rem;
            z-index: 10;
            transition: background 0.3s ease;
        }

        .image-modal-close:hover {
            background: rgba(0, 0, 0, 0.9);
        }

        /* Ø¨Ù‡Ø¨ÙˆØ¯ Ø¸Ø§Ù‡Ø± Ø¨Ø±Ø§ÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„ */
        @media (max-width: 640px) {
            .main-content {
                padding-top: 175px !important; /* Ø§ÙØ²Ø§ÛŒØ´ Ø¨ÛŒØ´ØªØ± Ø¯Ø± Ù…ÙˆØ¨Ø§ÛŒÙ„ */
            }

            .food-card {
                min-height: 130px !important;
                margin-bottom: 6px;
            }

            .food-details {
                padding: 8px 10px;
            }

            .food-title {
                font-size: 0.85rem !important;
            }

            .food-description {
                font-size: 0.7rem !important;
                -webkit-line-clamp: 2;
            }

            .food-price {
                font-size: 0.8rem !important;
            }

            .order-btn {
                font-size: 0.7rem !important;
                padding: 5px 10px !important;
                min-width: 60px !important;
            }

            .cooking-time {
                font-size: 0.65rem !important;
                padding: 3px 6px;
            }

            .image-modal-content {
                max-width: 98%;
                margin: 0 4px;
            }

            .image-modal-details {
                padding: 12px;
            }

            .image-modal-title {
                font-size: 1.1rem;
            }

            .image-modal-description {
                font-size: 0.85rem;
            }

            /* Ø¨Ù‡Ø¨ÙˆØ¯ Ù‡Ø¯Ø± Ø¨Ø±Ø§ÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„ Ú©ÙˆÚ†Ú© */
            header {
                padding: 8px 0 !important;
            }

            .header-actions {
                gap: 4px !important;
            }

            .reservation-btn {
                padding: 6px 8px !important;
                font-size: 0.7rem !important;
            }

            .lang-btn, .header-icon {
                width: 32px !important;
                height: 32px !important;
                font-size: 0.7rem !important;
            }

            .restaurant-name {
                font-size: 0.9rem !important;
            }

            .hamburger-icon {
                padding: 6px !important;
            }
        }

        /* Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² Ú†Ø³Ø¨ÛŒØ¯Ù† Ø¹Ú©Ø³ Ø¨Ù‡ Ø¬Ø§ÛŒ Ø®ÙˆØ¯Ø´ Ø¨Ø¯ÙˆÙ† ÙØ§ØµÙ„Ù‡ */
        .food-image-container img,
        .food-image-container div {
            border-radius: 8px 0 0 8px !important;
            margin: 0;
            padding: 0;
            display: block;
        }

        /* Ø¨Ù‡Ø¨ÙˆØ¯ Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒâ€ŒÙ‡Ø§ - Ú©ÙˆÚ†Ú© Ú©Ø±Ø¯Ù† Ø¹Ú©Ø³â€ŒÙ‡Ø§ Ùˆ Ù…ØªÙ† */
        .slider-category-icon,
        .category-bottom-icon {
            width: 45px !important; /* Ú©Ø§Ù‡Ø´ Ø³Ø§ÛŒØ² */
            height: 45px !important; /* Ú©Ø§Ù‡Ø´ Ø³Ø§ÛŒØ² */
            border-radius: 10px !important;
        }

        .slider-category-icon img,
        .category-bottom-icon img {
            width: 100% !important;
            height: 100% !important;
            object-fit: cover !important;
        }

        @media (max-width: 640px) {
            .slider-category-icon,
            .category-bottom-icon {
                width: 40px !important; /* Ø³Ø§ÛŒØ² Ú©ÙˆÚ†Ú© Ø¯Ø± Ù…ÙˆØ¨Ø§ÛŒÙ„ */
                height: 40px !important;
            }
        }

        /* Ø¨Ù‡Ø¨ÙˆØ¯ ÙØ§ØµÙ„Ù‡â€ŒÙ‡Ø§ Ø¯Ø± Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒâ€ŒÙ‡Ø§ */
        .slider-category-item {
            padding: 12px 14px !important;
            gap: 12px !important;
        }

        .category-bottom-item {
            padding: 8px 10px !important;
            gap: 6px !important;
            min-width: 70px !important;
        }

        .slider-category-name {
            font-size: 0.85rem !important;
            font-weight: 600;
        }

        .category-bottom-name {
            font-size: 0.7rem !important;
            font-weight: 600;
            max-width: 70px !important;
        }

        /* Ø¨Ù‡Ø¨ÙˆØ¯ Ù‡Ø¯Ø± Ø¨Ø±Ø§ÛŒ Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² Ø¨Ù‡Ù… Ø±ÛŒØ®ØªÚ¯ÛŒ */
        .logo-container {
            min-width: 0;
            flex-shrink: 1;
        }

        .restaurant-info {
            min-width: 0;
            overflow: hidden;
        }

        .restaurant-name {
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 120px;
        }

        @media (max-width: 400px) {
            .restaurant-name {
                max-width: 100px;
                font-size: 0.8rem !important;
            }

            .reservation-btn span {
                font-size: 0.65rem !important;
            }

            .header-actions {
                gap: 3px !important;
            }
        }

        /* Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² Ù†Ù…Ø§ÛŒØ´ ØµØ­ÛŒØ­ Ù…Ø­ØªÙˆØ§ Ø²ÛŒØ± Ù‡Ø¯Ø± */
        body {
            overflow-x: hidden;
        }

        .container.mx-auto {
            width: 100%;
            max-width: 100%;
        }

        /* Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯ Ø¨Ø±Ø§ÛŒ Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ø²ÛŒØ± Ø¬Ø³ØªØ¬Ùˆ */
        .categories-scroll-container {
            background-color: white;
            border-top: 1px solid #e2e8f0;
            padding: 8px 0;
        }

        .dark-mode .categories-scroll-container {
            background-color: #1e293b !important;
            border-top-color: #334155 !important;
        }

        .categories-scroll {
            display: flex;
            overflow-x: auto;
            padding: 0 12px;
            gap: 10px;
            align-items: center;
        }

        .category-bottom-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 6px;
            cursor: pointer;
            padding: 8px 10px;
            border-radius: 12px;
            min-width: 70px;
            transition: all 0.2s ease;
            flex-shrink: 0;
        }

        .category-bottom-item:hover {
            background-color: #f8fafc;
        }

        .dark-mode .category-bottom-item:hover {
            background-color: #334155 !important;
        }

        .category-bottom-active {
            background-color: #3b82f6 !important;
            color: white !important;
        }

        .dark-mode .category-bottom-active {
            background-color: #1e40af !important;
        }

        .category-bottom-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
        }

        .category-bottom-name {
            font-size: 0.65rem;
            font-weight: 500;
            text-align: center;
            line-height: 1.2;
            max-width: 70px;
            color: #64748b;
        }

        .dark-mode .category-bottom-name {
            color: #94a3b8 !important;
        }

        .category-bottom-active .category-bottom-name {
            color: white !important;
        }

        .dark-mode .category-bottom-name {
            color: #cbd5e1 !important;
        }
    </style>
</head>
<body>
    <!-- Ù„Ø§ÛŒÙ‡ Ù…Ø­Ùˆ -->
    <div class="overlay"></div>

    <!-- Ù…ÙˆØ¯Ø§Ù„ Ù†Ù…Ø§ÛŒØ´ Ø¹Ú©Ø³ Ø¨Ø²Ø±Ú¯ -->
    <div class="image-modal">
        <div class="image-modal-content">
            <div class="image-modal-close">
                <svg xmlns="http://www.w3.org/2000/svg"
     viewBox="0 0 352 512"
     width="16"
     height="16"
     fill="currentColor">
  <path d="M242.7 256l100.1-100.1c12.3-12.3 12.3-32.2 0-44.5l-22.2-22.2c-12.3-12.3-32.2-12.3-44.5 0L176 189.3 75.9 89.2c-12.3-12.3-32.2-12.3-44.5 0L9.2 111.4c-12.3 12.3-12.3 32.2 0 44.5L109.3 256 9.2 356.1c-12.3 12.3-12.3 32.2 0 44.5l22.2 22.2c12.3 12.3 32.2 12.3 44.5 0L176 322.7l100.1 100.1c12.3 12.3 32.2 12.3 44.5 0l22.2-22.2c12.3-12.3 12.3-32.2 0-44.5L242.7 256z"/>
</svg>

            </div>
            <img src="" alt="" class="image-modal-img">
            <div class="image-modal-details">
                <h3 class="image-modal-title"></h3>
                <p class="image-modal-description"></p>
                <div class="image-modal-price"></div>
                <div class="image-modal-info">
                    <div class="cooking-time bg-gray-50 px-3 py-2 rounded-lg">
                       <svg xmlns="http://www.w3.org/2000/svg"
     viewBox="0 0 512 512"
     width="12"
     height="12"
     fill="currentColor">
  <path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200zm12-328h-24c-6.6 0-12 5.4-12 12v128c0 6.6 5.4 12 12 12h96c6.6 0 12-5.4 12-12v-24c0-6.6-5.4-12-12-12h-72V140c0-6.6-5.4-12-12-12z"/>
</svg>

                        <span class="text-xs font-medium image-modal-time"></span>
                    </div>
                    <button style='background-color:#ef4444;' class="order-btn image-modal-order-btn">
                        <span class="order-text">Ø³ÙØ§Ø±Ø´</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Ù†ÙˆØ§Ø± Ø¨Ø§Ù„Ø§ÛŒÛŒ Ø§ØµÙ„ÛŒ -->
   <header class="fixed top-0 left-0 right-0 z-40 bg-white shadow-sm dark:bg-gray-800 dark:border-gray-700" style="padding: 8px 0;">
    <div class="container mx-auto px-3">
        <div class="flex justify-between items-center">
            <div class="flex items-center gap-2" style="min-width: 0; flex: 1;">
                <!-- Ø¯Ú©Ù…Ù‡ Ù…Ù†ÙˆÛŒ Ù‡Ù…Ø¨Ø±Ú¯Ø±ÛŒ -->
                <div class="hamburger-icon cursor-pointer text-gray-600 dark:text-gray-300 hover:text-blue-500 dark:hover:text-blue-400 transition-colors" style="padding: 6px;" id="hamburgerMenuBtn">
                    <svg xmlns="http://www.w3.org/2000/svg"
                         viewBox="0 0 448 512"
                         width="18"
                         height="18"
                         fill="currentColor">
                        <path d="M16 132h416c8.8 0 16-7.2 16-16V84c0-8.8-7.2-16-16-16H16C7.2 68 0 75.2 0 84v32c0 8.8 7.2 16 16 16zm0 156h416c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16H16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16zm0 156h416c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16H16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16z"/>
                    </svg>
                </div>

                <div class="logo-container flex items-center gap-2" style="min-width: 0; flex: 1;">
                    <div class="w-8 h-8 rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white font-bold text-xs flex-shrink: 0;">
                        {% if restaurant.logo %}
                        <img src="{{ restaurant.logo.url }}" alt="{{ restaurant.title_en|default:restaurant.title }}"
                             class="w-10 h-10 rounded-xl object-cover border border-gray-200 dark:border-gray-600">
                        {% else %}
                        <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white font-bold text-sm">
                            {{ restaurant.title_en|default:restaurant.title|first }}
                        </div>
                        {% endif %}
                    </div>
                    <div class="restaurant-info" style="min-width: 0;">
                        <div class="restaurant-name text-sm font-medium text-gray-800 dark:text-gray-200 whitespace-nowrap overflow-hidden text-ellipsis" style="max-width: 120px;">
                            {{restaurant.title}}
                        </div>
                        <div class="restaurant-subtitle text-xs text-gray-500 dark:text-gray-400 hidden sm:block">
                            Ù…Ù†ÙˆÛŒ Ø¯ÛŒØ¬ÛŒØªØ§Ù„
                        </div>
                    </div>
                </div>
            </div>

            <div class="header-actions flex items-center gap-2" style="flex-shrink: 0;">
                <a href="javascript:void(0);"
                   class="reservation-btn bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white px-2 py-1.5 rounded-xl font-medium flex items-center gap-1 transition-all duration-300 shadow-md hover:shadow-lg text-xs"
                   data-bs-toggle="modal"
                   data-bs-target="#reservationModal">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" width="12" height="12" fill="currentColor">
    <path d="M112 128c0-29.5 16.2-55 40-68.9V256h48V48h48v208h48V59.1c23.8 13.9 40 39.4 40 68.9v128h48V128C384 57.3 326.7 0 256 0h-64C121.3 0 64 57.3 64 128v128h48V128zm272 320c0 17.7-14.3 32-32 32s-32-14.3-32-32 14.3-32 32-32 32 14.3 32 32zm-320 0c0 17.7-14.3 32-32 32s-32-14.3-32-32 14.3-32 32-32 32 14.3 32 32zm352 0c0-17.7 14.3-32 32-32s32 14.3 32 32-14.3 32-32 32-32-14.3-32-32zm-352 0c0-17.7 14.3-32 32-32s32 14.3 32 32-14.3 32-32 32-32-14.3-32-32zM32 448c0 17.7-14.3 32-32 32s-32-14.3-32-32 14.3-32 32-32 32 14.3 32 32zm384 0c0-17.7 14.3-32 32-32s32 14.3 32 32-14.3 32-32 32-32-14.3-32-32zm-352 0c0-17.7 14.3-32 32-32s32 14.3 32 32-14.3 32-32 32-32-14.3-32-32zm320 0c0 17.7-14.3 32-32 32s-32-14.3-32-32 14.3-32 32-32 32 14.3 32 32zM112 512c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm224 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"/>
</svg>
                    <span class="text-white">Ø±Ø²Ø±Ùˆ Ù…ÛŒØ²</span>
                </a>

                <a href="{% url 'menu:change_language' restaurant.slug %}?lang=en" class="lang-btn bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 no-underline w-8 h-8 rounded-lg flex items-center justify-center text-xs hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors">
                    <span class="lang-text font-medium">EN</span>
                </a>

                <button id="theme-toggle" class="header-icon bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 w-8 h-8 rounded-lg flex items-center justify-center hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg"
                         viewBox="0 0 384 512"
                         width="14"
                         height="14"
                         fill="currentColor">
                        <path d="M223.5 32c-1.7 0-3.4.1-5.1.2C154.1 39.2 96 94.3 96 160c0 70.7 57.3 128 128 128 65.7 0 120.8-58.1 127.8-122.4.1-1.7.2-3.4.2-5.1 0-6.6-7.4-10.3-12.6-6.3-16.9 12.9-38 20.6-60.9 20.6-55.2 0-100-44.8-100-100 0-22.9 7.7-44 20.6-60.9 4-5.2.3-12.6-6.3-12.6z"/>
                    </svg>
                </button>
            </div>
        </div>
    </div>

    <div class="search-container bg-white dark:bg-gray-800 py-2 border-t border-gray-100 dark:border-gray-700">
        <div class="container mx-auto px-3">
            <div class="search-box bg-gray-50 dark:bg-gray-700 rounded-xl px-3 py-1.5 flex items-center gap-2 border border-gray-200 dark:border-gray-600">
                <svg xmlns="http://www.w3.org/2000/svg"
                     viewBox="0 0 512 512"
                     width="10"
                     height="10"
                     fill="currentColor"
                     class="text-gray-400 dark:text-gray-300">
                    <path d="M505 442.7L405.3 343c28.4-34.9 45.7-79.4 45.7-128C451 96.5 354.5 0 231 0S11 96.5 11 215.1 107.5 430.1 231 430.1c48.6 0 93.1-17.3 128-45.7L442.7 505c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.5-9.4 9.5-24.6.1-34zM231 370.1c-85.4 0-155-69.6-155-155s69.6-155 155-155 155 69.6 155 155-69.6 155-155 155z"/>
                </svg>
                <input type="text" placeholder="Ø¬Ø³ØªØ¬ÙˆÛŒ ØºØ°Ø§..."
                       class="w-full bg-transparent border-none outline-none text-gray-700 dark:text-gray-300 placeholder-gray-400 dark:placeholder-gray-500 text-xs">
            </div>
        </div>
    </div>

    <!-- Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ø²ÛŒØ± Ø¬Ø³ØªØ¬Ùˆ -->
    <div class="categories-scroll-container">
        <div class="container mx-auto px-3">
            <div class="categories-scroll">
                <div class="category-bottom-item category-bottom-active" data-category="all">
                    <div class="category-bottom-icon bg-gradient-to-br from-blue-400 to-blue-500 text-white shadow-md">
                        <svg xmlns="http://www.w3.org/2000/svg"
                             viewBox="0 0 416 512"
                             width="16"
                             height="16"
                             fill="currentColor"
                             aria-hidden="true">
                            <path d="M416 0c-17.7 0-32 14.3-32 32v224c0 53-43 96-96 96h-16V32c0-17.7-14.3-32-32-32s-32 14.3-32 32v320h-16c-53 0-96-43-96-96V32c0-17.7-14.3-32-32-32S0 14.3 0 32v224c0 88.4 71.6 160 160 160h16v64c0 17.7 14.3 32 32 32s32-14.3 32-32v-64h16c88.4 0 160-71.6 160-160V32c0-17.7-14.3-32-32-32z"/>
                        </svg>
                    </div>
                    <span class="category-bottom-name">Ù‡Ù…Ù‡</span>
                </div>

                {% for menu_category in menu_categories %}
                <div class="category-bottom-item" data-category="{{ menu_category.id }}">
                    {% if menu_category.displayImage %}
                    <img src="{{ menu_category.displayImage.url }}" alt="{{ menu_category.category.title }}"
                         class="category-bottom-icon object-cover shadow-md">
                    {% else %}
                    <div class="category-bottom-icon bg-gradient-to-br from-gray-300 to-gray-400 text-gray-600 shadow-md">
                        <svg xmlns="http://www.w3.org/2000/svg"
                             viewBox="0 0 416 512"
                             width="16"
                             height="16"
                             fill="currentColor"
                             aria-hidden="true">
                            <path d="M416 0c-17.7 0-32 14.3-32 32v224c0 53-43 96-96 96h-16V32c0-17.7-14.3-32-32-32s-32 14.3-32 32v320h-16c-53 0-96-43-96-96V32c0-17.7-14.3-32-32-32S0 14.3 0 32v224c0 88.4 71.6 160 160 160h16v64c0 17.7 14.3 32 32 32s32-14.3 32-32v-64h16c88.4 0 160-71.6 160-160V32c0-17.7-14.3-32-32-32z"/>
                        </svg>
                    </div>
                    {% endif %}
                    <span class="category-bottom-name">{{ menu_category.category.title|truncatechars:10 }}</span>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
</header>

<!-- Ù…Ù†ÙˆÛŒ Ú©Ø´ÙˆÛŒÛŒ Ù‡Ù…Ø¨Ø±Ú¯Ø±ÛŒ -->
<div class="hamburger-menu-sidebar fixed top-0 left-0 h-full w-64 bg-white dark:bg-gray-800 shadow-xl z-50 transform -translate-x-full transition-transform duration-300">
    <div class="p-4">
        <!-- Ù‡Ø¯Ø± Ù…Ù†Ùˆ -->
        <div class="flex justify-between items-center mb-6 pb-4 border-b dark:border-gray-700">
            <h3 class="text-lg font-bold text-gray-800 dark:text-white">Ù…Ù†Ùˆ</h3>
            <button class="close-menu-btn text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 352 512" width="20" height="20" fill="currentColor">
                    <path d="M242.7 256l100.1-100.1c12.3-12.3 12.3-32.2 0-44.5l-22.2-22.2c-12.3-12.3-32.2-12.3-44.5 0L176 189.3 75.9 89.2c-12.3-12.3-32.2-12.3-44.5 0L9.2 111.4c-12.3 12.3-12.3 32.2 0 44.5L109.3 256 9.2 356.1c-12.3 12.3-12.3 32.2 0 44.5l22.2 22.2c12.3 12.3 32.2 12.3 44.5 0L176 322.7l100.1 100.1c12.3 12.3 32.2 12.3 44.5 0l22.2-22.2c12.3-12.3 12.3-32.2 0-44.5L242.7 256z"/>
                </svg>
            </button>
        </div>

        <!-- Ù…Ø­ØªÙˆØ§ÛŒ Ù…Ù†Ùˆ -->
        <div class="menu-content">


            <div class="mt-8 pt-6 border-t dark:border-gray-700">
    <h4 class="text-sm font-semibold text-gray-500 dark:text-gray-400 mb-3">Ø±Ø³ØªÙˆØ±Ø§Ù†</h4>
   <ul class="space-y-2">
    <!-- ÙˆØ¶Ø¹ÛŒØª Ø³ÛŒÚ¯Ø§Ø± -->
    <li>
        <a href="#description" class="flex items-center gap-3 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors">
            <div class="w-8 h-8 rounded-md bg-green-100 dark:bg-green-900 flex items-center justify-center">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="14" height="14" fill="currentColor">
                    <path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 110c23.2 0 42 18.8 42 42s-18.8 42-42 42-42-18.8-42-42 18.8-42 42-42zm56 286h-24v-112h-64v-24c0-13.3 10.7-24 24-24h40c13.3 0 24 10.7 24 24v136z"/>
                </svg>
            </div>
            <span class="text-gray-700 dark:text-gray-300">ÙˆØ¶Ø¹ÛŒØª Ù…Ø­ÛŒØ·</span>

            <!-- ÙˆØ¶Ø¹ÛŒØª Ø¢Ø²Ø§Ø¯ÛŒ Ø³ÛŒÚ¯Ø§Ø± -->
            {% if restaurant.freeSmoke %}
            <div class="ml-auto flex items-center gap-1">
                <div class="w-6 h-6 rounded-full bg-red-100 dark:bg-red-900 flex items-center justify-center">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" width="10" height="10" fill="#ef4444">
                        <path d="M216 23.86c0-23.8-30.65-32.77-44.15-13.04C48 191.85 224 200 224 288c0 35.63-29.11 64.46-64.85 63.99-35.17-.45-63.15-29.77-63.15-64.94v-85.51c0-21.7-26.47-32.23-41.43-16.5C27.8 213.16 0 261.33 0 320c0 105.87 86.13 192 192 192s192-86.13 192-192c0-170.29-168-193-168-296.14z"/>
                    </svg>
                </div>
                <span class="text-xs text-red-600 dark:text-red-400 font-medium">Ø³ÛŒÚ¯Ø§Ø± Ø¢Ø²Ø§Ø¯</span>
            </div>
            {% else %}
            <div class="ml-auto flex items-center gap-1">
                <div class="w-6 h-6 rounded-full bg-green-100 dark:bg-green-900 flex items-center justify-center">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="10" height="10" fill="#10b981">
                        <path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/>
                    </svg>
                </div>
                <span class="text-xs text-green-600 dark:text-green-400 font-medium">Ø¨Ø¯ÙˆÙ† Ø³ÛŒÚ¯Ø§Ø±</span>
            </div>
            {% endif %}
        </a>
    </li>

    <!-- ØªÙ„ÙÙ† -->
    <li>
        <a href="tel:{{ restaurant.phone }}" class="flex items-center gap-3 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors">
            <div class="w-8 h-8 rounded-md bg-red-100 dark:bg-red-900 flex items-center justify-center">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="14" height="14" fill="currentColor">
                    <path d="M493.4 24.6l-104-24c-7.3-1.7-14.7 2.5-17.3 9.1L351.9 128H48C21.5 128 0 150.1 0 176v16c0 44.2 35.8 80 80 80h240v112c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16V288h112c44.2 0 80-35.8 80-80v-16c0-25.9-21.5-48-48-48h-68.8l28.9-94.6c2.6-8.6-2.1-17.6-10.7-19.4z"/>
                </svg>
            </div>
            <span class="text-gray-700 dark:text-gray-300">{{ restaurant.phone }}</span>
        </a>
    </li>

    <!-- Ø¢Ø¯Ø±Ø³ -->
    {% if restaurant.address %}
    <li>
        <a href="#" class="flex items-center gap-3 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors">
            <div class="w-8 h-8 rounded-md bg-purple-100 dark:bg-purple-900 flex items-center justify-center">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" width="14" height="14" fill="currentColor">
                    <path d="M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"/>
                </svg>
            </div>
            <span class="text-gray-700 dark:text-gray-300 text-sm line-clamp-2">{{ restaurant.address }}</span>
        </a>
    </li>
    {% endif %}

    <!-- Ø³Ø§Ø¹Øª Ú©Ø§Ø±ÛŒ -->
    {% if restaurant.openingTime and restaurant.closingTime %}
    <li>
        <a href="#" class="flex items-center gap-3 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors">
            <div class="w-8 h-8 rounded-md bg-amber-100 dark:bg-amber-900 flex items-center justify-center">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="14" height="14" fill="currentColor">
                    <path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm57.1 345.1c4.7 4.7 4.7 12.3 0 17l-17 17c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l17-17c4.7-4.7 12.3-4.7 17 0l111 111z"/>
                </svg>
            </div>
            <div class="flex-1">
                <span class="text-gray-700 dark:text-gray-300">Ø³Ø§Ø¹Øª Ú©Ø§Ø±ÛŒ</span>
                <div class="text-xs text-gray-500 dark:text-gray-400 mt-1">
                    {{ restaurant.openingTime|time:"H:i" }} - {{ restaurant.closingTime|time:"H:i" }}
                    {% now "H:i" as current_time %}
                    {% if current_time >= restaurant.openingTime|time:"H:i" and current_time <= restaurant.closingTime|time:"H:i" %}
                    <span class="mr-2 inline-flex items-center">
                        <span class="w-1.5 h-1.5 rounded-full bg-green-500 ml-1 animate-pulse"></span>
                        Ø¨Ø§Ø² Ø§Ø³Øª
                    </span>
                    {% else %}
                    <span class="mr-2 inline-flex items-center">
                        <span class="w-1.5 h-1.5 rounded-full bg-red-500 ml-1"></span>
                        Ø¨Ø³ØªÙ‡ Ø§Ø³Øª
                    </span>
                    {% endif %}
                </div>
            </div>
        </a>
    </li>
    {% endif %}

    <!-- Ø­Ø¯Ø§Ù‚Ù„ Ø³ÙØ§Ø±Ø´ -->
    {% if restaurant.minimumOrder %}
    <li>
        <a href="#" class="flex items-center gap-3 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors">
            <div class="w-8 h-8 rounded-md bg-emerald-100 dark:bg-emerald-900 flex items-center justify-center">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" width="14" height="14" fill="currentColor">
                    <path d="M504 217H295.5l-7.7-23.2c-1.7-5.1-6.5-8.8-12-8.8H216c-6.6 0-12 5.4-12 12s5.4 12 12 12h52.7l44.8 134.4c1.7 5.1 6.5 8.8 12 8.8h84c5.5 0 10.3-3.7 12-8.8l23.2-69.6h12.5c17.7 0 32-14.3 32-32s-14.3-32-32-32zm-53.2 64l-14.4 43.2H307.8l-14.4-43.2h116.6zM72 32C52.1 32 36 48.1 36 68v252c0 19.9 16.1 36 36 36h372c6.6 0 12-5.4 12-12v-8c0-6.6-5.4-12-12-12H72c-6.6 0-12-5.4-12-12V68c0-6.6 5.4-12 12-12zm320 448H88c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h304c6.6 0 12 5.4 12 12v8c0 6.6-5.4 12-12 12z"/>
                </svg>
            </div>
            <div class="flex-1">
                <span class="text-gray-700 dark:text-gray-300">Ø­Ø¯Ø§Ù‚Ù„ Ø³ÙØ§Ø±Ø´</span>
                <div class="text-xs text-gray-500 dark:text-gray-400 mt-1">
                    {{ restaurant.minimumOrder|floatformat:"0" }} ØªÙˆÙ…Ø§Ù†
                    {% if restaurant.deliveryFee and restaurant.deliveryFee > 0 %}
                    | Ù‡Ø²ÛŒÙ†Ù‡ Ù¾ÛŒÚ©: {{ restaurant.deliveryFee|floatformat:"0" }} ØªÙˆÙ…Ø§Ù†
                    {% else %}
                    | Ù¾ÛŒÚ© Ø±Ø§ÛŒÚ¯Ø§Ù†
                    {% endif %}
                </div>
            </div>
        </a>
    </li>
    {% endif %}

    <!-- Ù…Ø§Ù„ÛŒØ§Øª -->
    {% if restaurant.taxRate %}
    <li>
        <a href="#" class="flex items-center gap-3 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors">
            <div class="w-8 h-8 rounded-md bg-blue-100 dark:bg-blue-900 flex items-center justify-center">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" width="14" height="14" fill="currentColor">
                    <path d="M624 32H16C7.2 32 0 39.2 0 48v288c0 8.8 7.2 16 16 16h608c8.8 0 16-7.2 16-16V48c0-8.8-7.2-16-16-16zm-32 272H48V80h544v224zM368 128c44.2 0 80 35.8 80 80s-35.8 80-80 80-80-35.8-80-80 35.8-80 80-80zm0 128c26.5 0 48-21.5 48-48s-21.5-48-48-48-48 21.5-48 48 21.5 48 48 48zm-240-32c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16v32zm0-96c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16v32zm352 96c0 8.8-7.2 16-16 16h-32c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16v32zm0-96c0 8.8-7.2 16-16 16h-32c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h32c8.8 0 16 7.2 16 16v32z"/>
                </svg>
            </div>
            <div class="flex-1">
                <span class="text-gray-700 dark:text-gray-300">Ù…Ø§Ù„ÛŒØ§Øª</span>
                <div class="text-xs text-gray-500 dark:text-gray-400 mt-1">
                    {{ restaurant.taxRate }}%
                    | {% if restaurant.show_usd_price %}Ù†Ù…Ø§ÛŒØ´ Ù‚ÛŒÙ…Øª Ø¯Ù„Ø§Ø±{% else %}Ù‚ÛŒÙ…Øª ØªÙˆÙ…Ø§Ù†{% endif %}
                    | {% if restaurant.show_preparation_time %}Ù†Ù…Ø§ÛŒØ´ Ø²Ù…Ø§Ù† Ø¢Ù…Ø§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ{% endif %}
                </div>
            </div>
        </a>
    </li>
    {% endif %}

    <!-- ÙˆØ¶Ø¹ÛŒØª Ø³Ø¦Ùˆ -->
    <li>
        <a href="#" class="flex items-center gap-3 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors">
            <div class="w-8 h-8 rounded-md bg-indigo-100 dark:bg-indigo-900 flex items-center justify-center">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" width="14" height="14" fill="currentColor">
                    <path d="M634 471L36 3.5C29.1-2 19-.9 13.5 6l-10 12.5C-2 25.4-.9 35.5 6 41l598 467.5c6.9 5.5 17 4.4 22.5-2.5l10-12.5c5.5-6.9 4.4-17-2.5-22.5zM256 416c-53 0-96-43-96-96 0-30.4 14.1-57.5 36-75L82.9 161.3C33.2 202.8 0 262.9 0 328c0 78.1 56.8 142.3 131.2 156.8 32.1 6.4 63.2-2.3 88.7-21.2 22.5-16.7 39.1-39.6 47.3-65.8 8.2-26.2 7.8-53.9-1.4-79.6-9.2-25.7-26.8-46.9-49.2-60.9L256 336c0 26.5 21.5 48 48 48s48-21.5 48-48-21.5-48-48-48c-4.7 0-9.2.7-13.5 2l-52.4-41c25.3-15.1 56.1-23 87.9-23 70.7 0 134.7 40.4 164.6 102.8 4.6 9.5 13.7 16.1 24.1 16.1 2.7 0 5.5-.5 8.1-1.6 11.9-4.9 17.1-18.9 12.2-30.8-35.6-86.6-122.3-145.6-217-145.6-45.3 0-88.6 13.1-125.3 37.4l-45.4-35.5c44-31.4 98.1-49.9 155.7-49.9 123.8 0 227.4 91.5 244.8 212.1 1.8 12.4-7.3 23.5-19.7 25.3-12.4 1.8-23.5-7.3-25.3-19.7C454.5 185.5 379 128 292 128c-43.4 0-84.5 12.5-119.6 34.4l-64.4-50.4c55.1-36.2 123.1-56 194-56 159.1 0 294.5 118.7 314.2 276.4 1.6 12.8-7.3 24.2-20 25.8-12.8 1.6-24.2-7.3-25.8-20C558.5 278.5 435.4 176 292 176z"/>
                </svg>
            </div>
            <div class="flex-1">
                <span class="text-gray-700 dark:text-gray-300">Ø³Ø¦Ùˆ</span>
                <div class="text-xs text-gray-500 dark:text-gray-400 mt-1">
                    {% if restaurant.isSeo %}
                    <span class="text-green-600 dark:text-green-400">ÙØ¹Ø§Ù„</span>
                    {% else %}
                    <span class="text-red-600 dark:text-red-400">ØºÛŒØ±ÙØ¹Ø§Ù„</span>
                    {% endif %}
                    {% if restaurant.menu_active %}
                    | <span class="text-green-600 dark:text-green-400">Ù…Ù†Ùˆ ÙØ¹Ø§Ù„</span>
                    {% else %}
                    | <span class="text-red-600 dark:text-red-400">Ù…Ù†Ùˆ ØºÛŒØ±ÙØ¹Ø§Ù„</span>
                    {% endif %}
                </div>
            </div>
        </a>
    </li>

    <!-- ØªØ§Ø±ÛŒØ® Ø§Ù†Ù‚Ø¶Ø§ -->
    {% if restaurant.expireDate %}
    <li>
        <a href="#" class="flex items-center gap-3 p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors">
            <div class="w-8 h-8 rounded-md bg-rose-100 dark:bg-rose-900 flex items-center justify-center">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="14" height="14" fill="currentColor">
                    <path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200zm61.8-104.4l-84.9-61.7c-3.1-2.3-4.9-5.9-4.9-9.7V116c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v141.7l66.8 48.6c5.4 3.9 6.5 11.4 2.6 16.8L334.6 349c-3.9 5.3-11.4 6.5-16.8 2.6z"/>
                </svg>
            </div>
            <div class="flex-1">
                <span class="text-gray-700 dark:text-gray-300">ØªØ§Ø±ÛŒØ® Ø§Ù†Ù‚Ø¶Ø§</span>
                <div class="text-xs {% if restaurant.expireDate > now %}text-green-600 dark:text-green-400{% else %}text-red-600 dark:text-red-400{% endif %} mt-1">
                    {{ restaurant.expireDate|date:"Y/m/d H:i" }}
                    {% if restaurant.expireDate > now %}
                    | <span class="text-green-600 dark:text-green-400">Ù…Ø¹ØªØ¨Ø±</span>
                    {% else %}
                    | <span class="text-red-600 dark:text-red-400">Ù…Ù†Ù‚Ø¶ÛŒ Ø´Ø¯Ù‡</span>
                    {% endif %}
                </div>
            </div>
        </a>
    </li>
    {% endif %}
</ul>
</div>
        </div>
    </div>
</div>

<!-- Ù„Ø§ÛŒÙ‡ Ù…Ø­Ùˆ Ù¾Ø´Øª Ù…Ù†Ùˆ -->
<div class="hamburger-menu-overlay fixed inset-0 bg-black bg-opacity-50 z-40 hidden"></div>
<br>
    <!-- Ù…Ø­ØªÙˆØ§ÛŒ Ø§ØµÙ„ÛŒ -->
    <div class="main-content">
        <div class="container mx-auto">
            <div class="food-grid">
                {% for food in foods %}
                <div class="food-item" data-category="{{ food.menuCategory.id|default:'all' }}">
                    <div class="food-card">
                        <div class="food-card-inner">
                            <div class="food-image-container"
                                 data-food-title="{{ food.title }}"
                                 data-food-description="{{ food.description|default:'ØªÙˆØ¶ÛŒØ­Ø§Øª Ù…ÙˆØ¬ÙˆØ¯ Ù†ÛŒØ³Øª' }}"
                                 data-food-price="{{ food.final_price|intcomma }}"
                                 data-food-time="{{ food.preparationTime|default:'-' }}"
                                 data-food-image="{% if food.final_image %}{{ food.final_image.url }}{% endif %}"
                                 data-food-id="{{ food.id }}">
                                {% if food.final_image %}
                                    <img src="{{ food.final_image.url }}" alt="{{ food.title }}" class="food-image">
                                {% else %}
                                    <div class="w-full h-full bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center text-gray-400 food-image">
                                        <i class="fas fa-utensils text-xl"></i>
                                    </div>
                                {% endif %}
                            </div>
                            <div class="food-details">
                                <div class="food-content">
                                    <div class="flex justify-between items-start gap-2 mb-2">
                                        <span class="food-title flex-1">{{ food.title }}</span>
                                        <span class="food-price">
                                            {{ food.final_price|intcomma }} ØªÙˆÙ…Ø§Ù†
                                        </span>
                                    </div>
                                    <p class="food-description">
                                        {{ food.description|default:"ØªÙˆØ¶ÛŒØ­Ø§Øª Ù…ÙˆØ¬ÙˆØ¯ Ù†ÛŒØ³Øª" }}
                                    </p>
                                </div>
                                <div class="food-card-footer">
                                    <div class="flex items-center gap-2">
                                        <div class="cooking-time bg-gray-50 px-2 py-1 rounded-lg">
                                            <svg xmlns="http://www.w3.org/2000/svg"
                                                viewBox="0 0 512 512"
                                                width="12"
                                                height="12"
                                                fill="currentColor">
                                            <path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200zm12-328h-24c-6.6 0-12 5.4-12 12v128c0 6.6 5.4 12 12 12h96c6.6 0 12-5.4 12-12v-24c0-6.6-5.4-12-12-12h-72V140c0-6.6-5.4-12-12-12z"/>
                                            </svg>

                                            <span class="text-xs font-medium">{{ food.preparationTime|default:"-" }} Ø¯Ù‚ÛŒÙ‚Ù‡</span>
                                        </div>
                                        <button class="sound-btn text-gray-400 hover:text-blue-500 transition-colors duration-200 p-1 rounded-lg hover:bg-gray-100 {% if food.sound %}cursor-pointer{% else %}cursor-not-allowed opacity-50{% endif %}"
                                                {% if food.sound %}data-sound="{{ food.sound.url }}"{% endif %}
                                                title="{% if food.sound %}Ù¾Ø®Ø´ ØªÙˆØ¶ÛŒØ­Ø§Øª ØµÙˆØªÛŒ{% else %}ØªÙˆØ¶ÛŒØ­Ø§Øª ØµÙˆØªÛŒ Ù…ÙˆØ¬ÙˆØ¯ Ù†ÛŒØ³Øª{% endif %}">
                                            <svg
                                            xmlns="http://www.w3.org/2000/svg"
                                            viewBox="0 0 640 512"
                                            width="12"
                                            height="12"
                                            fill="currentColor"
                                            aria-hidden="true"
                                            >
                                            <path d="M320 64c-12.5 0-24.2 4.7-32.9 13.1L160 192H32c-17.7 0-32 14.3-32 32v64c0 17.7 14.3 32 32 32h128l127.1 114.9c8.7 8.4 20.4 13.1 32.9 13.1 26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zm141.5 49.1c-11.3-7.3-26.4-4.1-33.7 7.2-7.3 11.3-4.1 26.4 7.2 33.7 24.4 15.8 39 43.1 39 72s-14.6 56.2-39 72c-11.3 7.3-14.5 22.4-7.2 33.7 4.6 7.1 12.3 11 20.5 11 4.5 0 9-1.3 13.2-3.8C499.3 318.6 528 274.6 528 226s-28.7-92.6-66.5-112.9z"/>
                                            </svg>

                                        </button>
                                    </div>
                                    <button class="order-btn"
                                            data-food-id="{{ food.id }}"
                                            data-food-title="{{ food.title }}"
                                            style='background-color:#ef4444;'
                                            data-food-price="{{ food.final_price }}"
                                            data-food-image="{% if food.final_image %}{{ food.final_image.url }}{% endif %}">
                                        <span class="order-text">Ø³ÙØ§Ø±Ø´</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                {% empty %}
                <div class="col-span-2 text-center py-12 text-gray-400">
                    <i class="fas fa-utensils text-4xl mb-3 opacity-50"></i>
                    <p class="text-base">Ù‡ÛŒÚ† ØºØ°Ø§ÛŒÛŒ Ø¯Ø± Ù…Ù†Ùˆ Ù…ÙˆØ¬ÙˆØ¯ Ù†ÛŒØ³Øª</p>
                    <p class="text-sm mt-1 opacity-75">Ù„Ø·ÙØ§Ù‹ Ø¨Ø¹Ø¯Ø§Ù‹ Ù…Ø±Ø§Ø¬Ø¹Ù‡ Ú©Ù†ÛŒØ¯</p>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>

    <!-- Ø¨Ù‚ÛŒÙ‡ Ú©Ø¯Ù‡Ø§ Ø¨Ø¯ÙˆÙ† ØªØºÛŒÛŒØ± Ø¨Ø§Ù‚ÛŒ Ù…ÛŒâ€ŒÙ…Ø§Ù†Ù†Ø¯ -->
    <!-- Ø¯Ú©Ù…Ù‡ Ù„ÛŒØ³Øª Ø§Ù†ØªØ®Ø§Ø¨ ØºØ°Ø§ -->
    <div class="selection-list-btn">
        <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 512 512"
            width="12"
            height="12"
            fill="currentColor"
            aria-hidden="true"
            >
        <path d="M80 64c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.3-32-32-32zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.3-32-32-32zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.3-32-32-32zM176 96c-17.7 0-32 14.3-32 32s14.3 32 32 32h272c17.7 0 32-14.3 32-32s-14.3-32-32-32H176zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32h272c17.7 0 32-14.3 32-32s-14.3-32-32-32H176zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32h272c17.7 0 32-14.3 32-32s-14.3-32-32-32H176z"/>
        </svg>

        <div class="selection-list-badge">0</div>
    </div>

    <!-- Ù¾Ù†Ù„ Ù„ÛŒØ³Øª Ø§Ù†ØªØ®Ø§Ø¨ ØºØ°Ø§ -->
    <div class="selection-list-panel">
        <div class="selection-list-header">
            <span class="selection-list-title">Ù„ÛŒØ³Øª Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ù…Ø§</span>
            <div class="selection-list-close text-gray-500">
                <svg xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 352 512"
            width="16"
            height="16"
            fill="currentColor">
        <path d="M242.7 256l100.1-100.1c12.3-12.3 12.3-32.2 0-44.5l-22.2-22.2c-12.3-12.3-32.2-12.3-44.5 0L176 189.3 75.9 89.2c-12.3-12.3-32.2-12.3-44.5 0L9.2 111.4c-12.3 12.3-12.3 32.2 0 44.5L109.3 256 9.2 356.1c-12.3 12.3-12.3 32.2 0 44.5l22.2 22.2c12.3 12.3 32.2 12.3 44.5 0L176 322.7l100.1 100.1c12.3 12.3 32.2 12.3 44.5 0l22.2-22.2c12.3-12.3 12.3-32.2 0-44.5L242.7 256z"/>
    </svg>

            </div>
        </div>
        <div class="selection-list-content">
            <div class="selection-list-empty">
                        <svg xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 352 512"
                width="16"
                height="16"
                fill="currentColor">
            <path d="M242.7 256l100.1-100.1c12.3-12.3 12.3-32.2 0-44.5l-22.2-22.2c-12.3-12.3-32.2-12.3-44.5 0L176 189.3 75.9 89.2c-12.3-12.3-32.2-12.3-44.5 0L9.2 111.4c-12.3 12.3-12.3 32.2 0 44.5L109.3 256 9.2 356.1c-12.3 12.3-12.3 32.2 0 44.5l22.2 22.2c12.3 12.3 32.2 12.3 44.5 0L176 322.7l100.1 100.1c12.3 12.3 32.2 12.3 44.5 0l22.2-22.2c12.3-12.3 12.3-32.2 0-44.5L242.7 256z"/>
            </svg>

                <p class="text-base">Ù„ÛŒØ³Øª Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ù…Ø§ Ø®Ø§Ù„ÛŒ Ø§Ø³Øª</p>
                <p class="text-sm mt-1 opacity-75">ØºØ°Ø§Ù‡Ø§ÛŒ Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ø§ Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡ Ø³ÙØ§Ø±Ø´ Ø°Ø®ÛŒØ±Ù‡ Ú©Ù†ÛŒØ¯</p>
            </div>
            <div class="selection-list-items">
                <!-- Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡ Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ -->
            </div>
        </div>
        <div class="selection-list-actions">
            <div class="selection-list-action-btn selection-list-clear">Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ù„ÛŒØ³Øª</div>
            <div class="selection-list-action-btn selection-list-show">Ù†Ù…Ø§ÛŒØ´ Ø¨Ù‡ Ú¯Ø§Ø±Ø³ÙˆÙ†</div>
        </div>
    </div>

    <!-- ØµÙØ­Ù‡ Ù†Ù…Ø§ÛŒØ´ Ù„ÛŒØ³Øª Ø§Ù†ØªØ®Ø§Ø¨ -->
    <div class="selection-display">
        <div class="selection-display-header">
            <span class="selection-display-title">Ù„ÛŒØ³Øª Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ù…Ø§</span>
            <div class="selection-display-close text-gray-500">
                <svg xmlns="http://www.w3.org/2000/svg"
     viewBox="0 0 352 512"
     width="16"
     height="16"
     fill="currentColor">
  <path d="M242.7 256l100.1-100.1c12.3-12.3 12.3-32.2 0-44.5l-22.2-22.2c-12.3-12.3-32.2-12.3-44.5 0L176 189.3 75.9 89.2c-12.3-12.3-32.2-12.3-44.5 0L9.2 111.4c-12.3 12.3-12.3 32.2 0 44.5L109.3 256 9.2 356.1c-12.3 12.3-12.3 32.2 0 44.5l22.2 22.2c12.3 12.3 32.2 12.3 44.5 0L176 322.7l100.1 100.1c12.3 12.3 32.2 12.3 44.5 0l22.2-22.2c12.3-12.3 12.3-32.2 0-44.5L242.7 256z"/>
</svg>

            </div>
        </div>
        <div class="selection-display-items">
            <!-- Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡ Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ -->
        </div>
        <div class="selection-display-total">
            <span class="selection-display-total-label">Ø¬Ù…Ø¹ Ú©Ù„:</span>
            <span class="selection-display-total-price">0 ØªÙˆÙ…Ø§Ù†</span>
        </div>
        <div class="selection-display-actions">
            <div class="selection-display-action-btn selection-display-back">Ø¨Ø§Ø²Ú¯Ø´Øª</div>
            <div class="selection-display-action-btn selection-display-call">ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ Ú¯Ø§Ø±Ø³ÙˆÙ†</div>
        </div>
    </div>

    <!-- Ù…Ù†ÙˆÛŒ Ú©Ø´ÙˆÛŒÛŒ Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒâ€ŒÙ‡Ø§ Ø§Ø² Ø³Ù…Øª Ø±Ø§Ø³Øª -->
    <div class="categories-slider scrollbar-hide">
        <div class="slider-header">
            <div class="drag-handle"></div>
            <span class="slider-title">Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒâ€ŒÙ‡Ø§</span>
            <div class="slider-close text-gray-500">
                <svg xmlns="http://www.w3.org/2000/svg"
     viewBox="0 0 352 512"
     width="16"
     height="16"
     fill="currentColor">
  <path d="M242.7 256l100.1-100.1c12.3-12.3 12.3-32.2 0-44.5l-22.2-22.2c-12.3-12.3-32.2-12.3-44.5 0L176 189.3 75.9 89.2c-12.3-12.3-32.2-12.3-44.5 0L9.2 111.4c-12.3 12.3-12.3 32.2 0 44.5L109.3 256 9.2 356.1c-12.3 12.3-12.3 32.2 0 44.5l22.2 22.2c12.3 12.3 32.2 12.3 44.5 0L176 322.7l100.1 100.1c12.3 12.3 32.2 12.3 44.5 0l22.2-22.2c12.3-12.3 12.3-32.2 0-44.5L242.7 256z"/>
</svg>

            </div>
        </div>
        <div class="slider-categories">
            <div class="slider-category-item slider-category-active" data-category="all">
                <div class="slider-category-icon bg-gradient-to-br from-blue-400 to-blue-500 text-white shadow-md">
                    <svg
  xmlns="http://www.w3.org/2000/svg"
  viewBox="0 0 416 512"
  width="16"
  height="16"
  fill="currentColor"
  aria-hidden="true"
>
  <path d="M416 0c-17.7 0-32 14.3-32 32v224c0 53-43 96-96 96h-16V32c0-17.7-14.3-32-32-32s-32 14.3-32 32v320h-16c-53 0-96-43-96-96V32c0-17.7-14.3-32-32-32S0 14.3 0 32v224c0 88.4 71.6 160 160 160h16v64c0 17.7 14.3 32 32 32s32-14.3 32-32v-64h16c88.4 0 160-71.6 160-160V32c0-17.7-14.3-32-32-32z"/>
</svg>

                </div>
                <span class="slider-category-name">Ù‡Ù…Ù‡ Ù…ÙˆØ§Ø±Ø¯</span>
            </div>

            {% for menu_category in menu_categories %}
            <div class="slider-category-item" data-category="{{ menu_category.id }}">
                {% if menu_category.displayImage %}
                <img src="{{ menu_category.displayImage.url }}" alt="{{ menu_category.category.title }}"
                     class="slider-category-icon object-cover shadow-md">
                {% else %}
                <div class="slider-category-icon bg-gradient-to-br from-gray-300 to-gray-400 text-gray-600 shadow-md">
                    <svg
  xmlns="http://www.w3.org/2000/svg"
  viewBox="0 0 416 512"
  width="16"
  height="16"
  fill="currentColor"
  aria-hidden="true"
>
  <path d="M416 0c-17.7 0-32 14.3-32 32v224c0 53-43 96-96 96h-16V32c0-17.7-14.3-32-32-32s-32 14.3-32 32v320h-16c-53 0-96-43-96-96V32c0-17.7-14.3-32-32-32S0 14.3 0 32v224c0 88.4 71.6 160 160 160h16v64c0 17.7 14.3 32 32 32s32-14.3 32-32v-64h16c88.4 0 160-71.6 160-160V32c0-17.7-14.3-32-32-32z"/>
</svg>

                </div>
                {% endif %}
                <span class="slider-category-name">{{ menu_category.category.title }}</span>
            </div>
            {% endfor %}
        </div>
    </div>

    <!-- Ø¯Ú©Ù…Ù‡ Ø¨Ø§Ø² Ú©Ø±Ø¯Ù† Ù…Ù†ÙˆÛŒ Ú©Ø´ÙˆÛŒÛŒ - ÙÙ„Ø´ Ø¨Ù‡ Ø³Ù…Øª Ø±Ø§Ø³Øª Ùˆ Ø¯Ø± Ø³Ù…Øª Ú†Ù¾ ØµÙØ­Ù‡ -->


    <!-- Ù…ÙˆØ¯Ø§Ù„ Ø±Ø²Ø±Ùˆ Ù…ÛŒØ² -->
    <div class="modal fade" id="reservationModal" tabindex="-1" aria-labelledby="reservationModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header bg-gradient-to-r from-#ef4444-500 to-red-500 text-white">
                    <h5 class="modal-title font-bold" id="reservationModalLabel">
                        <i class="fas fa-calendar-check ml-2"></i>
                        Ø±Ø²Ø±Ùˆ Ù…ÛŒØ² Ø¯Ø± {{ restaurant.title }}
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body p-4">

                    <!-- Ù…Ø±Ø­Ù„Ù‡ Û±: Ø§Ù†ØªØ®Ø§Ø¨ ØªØ§Ø±ÛŒØ® Ùˆ ØªØ¹Ø¯Ø§Ø¯ Ù…Ù‡Ù…Ø§Ù† -->
                    <div id="step1">
                        <div class="mb-4">
                            <h6 class="font-semibold text-gray-700 mb-3">ğŸ“… Ø§Ù†ØªØ®Ø§Ø¨ ØªØ§Ø±ÛŒØ® Ùˆ ØªØ¹Ø¯Ø§Ø¯ Ù…Ù‡Ù…Ø§Ù†</h6>

                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label for="reservationDate" class="block text-sm font-medium text-gray-700 mb-2">
                                        ØªØ§Ø±ÛŒØ® Ø±Ø²Ø±Ùˆ
                                    </label>
                                    <div class="mb-3">

    <div class="flex items-center gap-2">
        <input type="text"
               class="form-control flex-1"
               id="reservationDate"
               placeholder="Ø¨Ø±Ø§ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ ØªØ§Ø±ÛŒØ® Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯"
               readonly
               dir="ltr">
        <button type="button"
                class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors"
                id="openCalendarBtn">
          <svg xmlns="http://www.w3.org/2000/svg"
     viewBox="0 0 448 512"
     width="16"
     height="16"
     fill="currentColor">
  <path d="M152 64c0-8.8-7.2-16-16-16h-16c-8.8 0-16 7.2-16 16v32H64c-35.3 0-64 28.7-64 64v272c0 35.3 28.7 64 64 64h320c35.3 0 64-28.7 64-64V160c0-35.3-28.7-64-64-64h-40V64c0-8.8-7.2-16-16-16h-16c-8.8 0-16 7.2-16 16v32H152V64zM48 192h352v240c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V192z"/>
</svg>

        </button>
    </div>
</div>
                                    <p class="text-xs text-gray-500 mt-1">ØªØ§Ø±ÛŒØ® Ø±Ø§ Ø¨Ù‡ ØµÙˆØ±Øª Ø´Ù…Ø³ÛŒ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯</p>
                                </div>

                                <div>
                                    <label for="guestCount" class="block text-sm font-medium text-gray-700 mb-2">
                                        ØªØ¹Ø¯Ø§Ø¯ Ù…Ù‡Ù…Ø§Ù†
                                    </label>
                                    <select class="form-control" id="guestCount">
                                        <option value="1">1 Ù†ÙØ±</option>
                                        <option value="2" selected>2 Ù†ÙØ±</option>
                                        <option value="3">3 Ù†ÙØ±</option>
                                        <option value="4">4 Ù†ÙØ±</option>
                                        <option value="5">5 Ù†ÙØ±</option>
                                        <option value="6">6 Ù†ÙØ±</option>
                                        <option value="7">7 Ù†ÙØ±</option>
                                        <option value="8">8 Ù†ÙØ±</option>
                                        <option value="9">9 Ù†ÙØ±</option>
                                        <option value="10">10 Ù†ÙØ±</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="flex justify-end">
                            <button style='background:#333;' type="button"
                                    class="bg-gradient-to-r from-#ef4444-500 to-red-500 hover:from-#ef4444-600 hover:to-red-600 text-white px-6 py-2 rounded-lg font-medium transition-all duration-300 flex items-center gap-2"
                                    onclick="checkAvailability()">
                                <svg xmlns="http://www.w3.org/2000/svg"
     viewBox="0 0 512 512"
     width="16"
     height="16"
     fill="currentColor">
  <path d="M505 442.7L405.3 343c28.4-34.9 45.7-79.4 45.7-128.3C451 96.5 354.5 0 231 0S11 96.5 11 214s96.5 214 214 214c48.9 0 93.4-17.3 128.3-45.7L442.7 505c4.5 4.5 10.6 7 17 7s12.5-2.5 17-7c9.4-9.4 9.4-24.6 0-34.3zM231 384c-94.1 0-170-75.9-170-170S136.9 44 231 44s170 75.9 170 170-75.9 170-170 170z"/>
</svg>

                                Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ
                            </button>
                        </div>
                    </div>

                    <!-- Ù…Ø±Ø­Ù„Ù‡ Û²: Ø§Ù†ØªØ®Ø§Ø¨ Ù…ÛŒØ² Ùˆ Ø²Ù…Ø§Ù† -->
                    <div id="step2" class="hidden">
                        <div class="mb-4">
                            <h6 class="font-semibold text-gray-700 mb-3">ğŸª‘ Ø§Ù†ØªØ®Ø§Ø¨ Ù…ÛŒØ² Ùˆ Ø²Ù…Ø§Ù†</h6>
                            <div id="availabilityResults" class="space-y-3 max-h-96 overflow-y-auto"></div>
                        </div>

                        <div class="flex justify-between">
                            <button type="button"
                                    class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg font-medium transition-all duration-300 flex items-center gap-2"
                                    onclick="backToStep1()">
                                <i class="fas fa-arrow-right"></i>
                                Ø¨Ø§Ø²Ú¯Ø´Øª
                            </button>
                        </div>
                    </div>

                    <!-- Ù…Ø±Ø­Ù„Ù‡ Û³: Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù…Ø´ØªØ±ÛŒ -->
                    <div id="step3" class="hidden">
                        <div class="mb-4">
                            <h6 class="font-semibold text-gray-700 mb-3">ğŸ‘¤ Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØªÙ…Ø§Ø³</h6>
                            <form id="reservationForm">
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div>
                                        <label for="fullName" class="form-label">Ù†Ø§Ù… Ú©Ø§Ù…Ù„ *</label>
                                        <input type="text" class="form-control" id="fullName" required>
                                    </div>

                                    <div>
                                        <label for="phoneNumber" class="form-label">Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³ *</label>
                                        <input type="tel" class="form-control" id="phoneNumber" required dir="ltr">
                                    </div>

                                    <div>
                                        <label for="nationalCode" class="form-label">Ú©Ø¯ Ù…Ù„ÛŒ (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)</label>
                                        <input type="text" class="form-control" id="nationalCode" dir="ltr">
                                    </div>

                                    <div class="md:col-span-2">
                                        <label for="specialRequests" class="form-label">Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§ÛŒ ÙˆÛŒÚ˜Ù‡</label>
                                        <textarea class="form-control" id="specialRequests" rows="3" placeholder="Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§ÛŒ Ø®Ø§Øµ Ù…Ø§Ù†Ù†Ø¯ Ø¬Ø´Ù† ØªÙˆÙ„Ø¯ØŒ Ø³Ø§Ù„Ú¯Ø±Ø¯ Ùˆ..."></textarea>
                                    </div>
                                </div>
                            </form>
                        </div>

                        <div class="flex justify-between">
                            <button type="button"
                                    class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg font-medium transition-all duration-300 flex items-center gap-2"
                                    onclick="backToStep2()">
                                <i class="fas fa-arrow-right"></i>
                                Ø¨Ø§Ø²Ú¯Ø´Øª
                            </button>

                            <button type="button"
                                    class="bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white px-6 py-2 rounded-lg font-medium transition-all duration-300 flex items-center gap-2"
                                    onclick="submitReservation()">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="16" height="16" fill="currentColor">
    <path d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"/>
</svg>
                                Ø«Ø¨Øª Ø±Ø²Ø±Ùˆ
                            </button>
                        </div>
                    </div>

                    <!-- Ù…Ø±Ø­Ù„Ù‡ Û´: ØªØ£ÛŒÛŒØ¯ Ù†Ù‡Ø§ÛŒÛŒ -->
                    <div id="step4" class="hidden">
                        <div class="text-center py-4">
                            <div class="mb-4">
                                <i class="fas fa-check-circle text-5xl text-green-500 mb-3"></i>
                            </div>

                            <div id="successMessage" class="mb-6"></div>

                            <div id="verificationSection" class="hidden">
                                <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4">
                                    <h6 class="font-semibold text-yellow-800 mb-2">ğŸ“± ØªØ£ÛŒÛŒØ¯ Ø±Ø²Ø±Ùˆ</h6>
                                    <p class="text-sm text-yellow-700 mb-3">Ú©Ø¯ ØªØ£ÛŒÛŒØ¯ Ø¨Ù‡ Ø´Ù…Ø§Ø±Ù‡ Ø´Ù…Ø§ Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯</p>

                                    <div class="flex gap-2 justify-center">
                                        <input type="text"
                                               class="w-32 px-3 py-2 border border-yellow-300 rounded-lg text-center font-mono text-lg"
                                               id="confirmationCode"
                                               placeholder="______"
                                               maxlength="6"
                                               dir="ltr">
                                        <button type="button"
                                                class="bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded-lg font-medium transition-all duration-300"
                                                onclick="verifyReservation()">
                                            ØªØ£ÛŒÛŒØ¯
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <div id="verifiedSection" class="hidden">
                                <div class="bg-green-50 border border-green-200 rounded-lg p-4">
                                    <h6 class="font-semibold text-green-800 mb-2">âœ… Ø±Ø²Ø±Ùˆ ØªØ£ÛŒÛŒØ¯ Ø´Ø¯</h6>
                                    <p class="text-sm text-green-700" id="finalMessage"></p>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <!-- Ø¨Ø®Ø´ ØªÙˆØ¶ÛŒØ­Ø§Øª Ø±Ø³ØªÙˆØ±Ø§Ù† -->
    {% if restaurant.isSeo %}
<div class="restaurant-description-section" style="max-width: 800px; margin: 40px auto; padding: 0 20px;">
    <div class="description-container" style="background: #f8f9fa; border-radius: 12px; padding: 0; overflow: hidden; border: 1px solid #e5e7eb;">
        <div class="description-header"
             style="padding: 16px 20px; cursor: pointer; display: flex; justify-content: space-between; align-items: center; transition: background-color 0.3s ease;"
             onclick="toggleDescription()">
            <span style="font-size: 1rem; margin: 0; color: #374151; font-weight: 600; display: flex; align-items: center; gap: 8px;">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" width="12" height="12" fill="currentColor">
                    <path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 110c23.2 0 42 18.8 42 42s-18.8 42-42 42-42-18.8-42-42 18.8-42 42-42zm56 286h-24v-112h-64v-24c0-13.3 10.7-24 24-24h40c13.3 0 24 10.7 24 24v136z"/>
                </svg>
                Ø¯Ø±Ø¨Ø§Ø±Ù‡ {{ restaurant.title }}
            </span>
            <div class="toggle-icon" style="transition: transform 0.3s ease; color: #6b7280;">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" width="14" height="14" fill="currentColor">
                    <path d="M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.746-154.02c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"/>
                </svg>
            </div>
        </div>

        <div class="description-content" style="padding: 0 20px; max-height: 120px; overflow: hidden; transition: all 0.4s ease; border-top: 1px solid #e5e7eb; position: relative;">
            <div style="padding: 20px 0; text-align: justify; line-height: 1.7; color: #4b5563; font-size: 0.9rem;">
                {% if restaurant.text and restaurant.text != '' %}
                    {% autoescape off %}
                        <div style="max-height: 80px; overflow: hidden;">
                            {{ restaurant.text|truncatechars:300 }}
                        </div>
                    {% endautoescape %}
                {% else %}
                    <p style="color: #9ca3af; font-style: italic; text-align: center;">
                        ØªÙˆØ¶ÛŒØ­Ø§ØªÛŒ Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ø±Ø³ØªÙˆØ±Ø§Ù† Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª
                    </p>
                {% endif %}
            </div>

            <!-- Gradient overlay for showing "read more" effect -->
            <div class="gradient-overlay" style="position: absolute; bottom: 0; left: 0; right: 0; height: 40px; background: linear-gradient(to bottom, transparent, #f8f9fa); pointer-events: none;"></div>
        </div>
    </div>
</div>

<script>
function toggleDescription() {
    const content = document.querySelector('.description-content');
    const toggleIcon = document.querySelector('.toggle-icon svg');
    const header = document.querySelector('.description-header');

    if (content.style.maxHeight === '0px' || content.style.maxHeight === '') {
        // Ø¨Ø§Ø² Ú©Ø±Ø¯Ù†
        content.style.maxHeight = content.scrollHeight + 'px';
        content.style.padding = '0 20px';
        toggleIcon.style.transform = 'rotate(180deg)';
        header.style.backgroundColor = '#f1f5f9';

        // Ù…Ø®ÙÛŒ Ú©Ø±Ø¯Ù† Ú¯Ø±Ø§Ø¯ÛŒØ§Ù† ÙˆÙ‚ØªÛŒ Ú©Ø§Ù…Ù„Ø§Ù‹ Ø¨Ø§Ø² Ø§Ø³Øª
        const gradient = content.querySelector('.gradient-overlay');
        if (gradient) {
            gradient.style.display = 'none';
        }

        // Ø¨Ù‡ Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù…Ø­ØªÙˆØ§ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ú©Ø§Ù…Ù„
        const innerDiv = content.querySelector('div > div');
        if (innerDiv) {
            innerDiv.style.maxHeight = 'none';
        }
    } else {
        // Ø¨Ø³ØªÙ†
        content.style.maxHeight = '120px'; // Ø§Ø±ØªÙØ§Ø¹ Ø§ÙˆÙ„ÛŒÙ‡ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø¨Ø®Ø´ÛŒ Ø§Ø² Ù…ØªÙ†
        content.style.padding = '0 20px';
        toggleIcon.style.transform = 'rotate(0deg)';
        header.style.backgroundColor = '';

        // Ù†Ù…Ø§ÛŒØ´ Ù…Ø¬Ø¯Ø¯ Ú¯Ø±Ø§Ø¯ÛŒØ§Ù†
        const gradient = content.querySelector('.gradient-overlay');
        if (gradient) {
            gradient.style.display = 'block';
        }

        // Ù…Ø­Ø¯ÙˆØ¯ Ú©Ø±Ø¯Ù† Ù…ØªÙ† Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø¨Ø®Ø´ÛŒ
        const innerDiv = content.querySelector('div > div');
        if (innerDiv) {
            innerDiv.style.maxHeight = '80px';
            innerDiv.style.overflow = 'hidden';
        }
    }
}

// Ù…Ù‚Ø¯Ø§Ø±Ø¯Ù‡ÛŒ Ø§ÙˆÙ„ÛŒÙ‡
document.addEventListener('DOMContentLoaded', function() {
    const content = document.querySelector('.description-content');
    const header = document.querySelector('.description-header');

    // ØªÙ†Ø¸ÛŒÙ… Ø§Ø±ØªÙØ§Ø¹ Ø§ÙˆÙ„ÛŒÙ‡ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø¨Ø®Ø´ÛŒ Ø§Ø² Ù…ØªÙ†
    if (content) {
        content.style.maxHeight = '120px';
        content.style.padding = '0 20px';

        // Ø§ÙØ²ÙˆØ¯Ù† Ø±ÙˆÛŒØ¯Ø§Ø¯ Ú©Ù„ÛŒÚ© Ø¨Ù‡ Ù‡Ø¯Ø±
        if (header) {
            header.style.cursor = 'pointer';
            header.onclick = toggleDescription;
        }
    }
});
</script>

<style>
.description-content {
    position: relative;
}

.gradient-overlay {
    position: absolute;
    bottom: 0;
    left: 20px;
    right: 20px;
    height: 40px;
    background: linear-gradient(to bottom, transparent, #f8f9fa 90%);
    pointer-events: none;
    transition: opacity 0.3s ease;
}

/* Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø¨Ù‡ØªØ± Ø¯Ø± Ø­Ø§Ù„Øª ØªØ§Ø±ÛŒÚ© */
.dark-mode .description-container {
    background: #1f2937;
    border-color: #374151;
}

.dark-mode .description-header span {
    color: #f3f4f6;
}

.dark-mode .description-content {
    color: #d1d5db;
}

.dark-mode .gradient-overlay {
    background: linear-gradient(to bottom, transparent, #1f2937 90%);
}

.dark-mode .description-header:hover {
    background-color: #374151 !important;
}
</style>
{% endif %}

    <script src='{% static "/assets/script/bundle.js" %}' ></script>


    <script>
document.addEventListener('DOMContentLoaded', function () {
    const toggleBtn = document.getElementById('menuToggle');
    const mobileMenu = document.getElementById('mobileMenu');

    if (!toggleBtn || !mobileMenu) return;

    toggleBtn.addEventListener('click', function () {
        mobileMenu.classList.toggle('hidden');
    });
});
</script>


    <script>
        // Ù†Ù…Ø§ÛŒØ´ Ø¹Ú©Ø³ Ø¨Ø²Ø±Ú¯ Ùˆ ØªÙˆØ¶ÛŒØ­Ø§Øª
        document.addEventListener('DOMContentLoaded', function() {
            const foodImageContainers = document.querySelectorAll('.food-image-container');
            const imageModal = document.querySelector('.image-modal');
            const imageModalImg = document.querySelector('.image-modal-img');
            const imageModalTitle = document.querySelector('.image-modal-title');
            const imageModalDescription = document.querySelector('.image-modal-description');
            const imageModalPrice = document.querySelector('.image-modal-price');
            const imageModalTime = document.querySelector('.image-modal-time');
            const imageModalClose = document.querySelector('.image-modal-close');
            const imageModalOrderBtn = document.querySelector('.image-modal-order-btn');

            foodImageContainers.forEach(container => {
                container.addEventListener('click', function() {
                    const title = this.getAttribute('data-food-title');
                    const description = this.getAttribute('data-food-description');
                    const price = this.getAttribute('data-food-price');
                    const time = this.getAttribute('data-food-time');
                    const image = this.getAttribute('data-food-image');
                    const foodId = this.getAttribute('data-food-id');

                    // Ù¾Ø± Ú©Ø±Ø¯Ù† Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¯Ø± Ù…ÙˆØ¯Ø§Ù„
                    imageModalTitle.textContent = title;
                    imageModalDescription.textContent = description;
                    imageModalPrice.textContent = price + ' ØªÙˆÙ…Ø§Ù†';
                    imageModalTime.textContent = time + ' Ø¯Ù‚ÛŒÙ‚Ù‡';

                    if (image) {
                        imageModalImg.src = image;
                        imageModalImg.alt = title;
                        imageModalImg.style.display = 'block';
                    } else {
                        imageModalImg.style.display = 'none';
                    }

                    // ØªÙ†Ø¸ÛŒÙ… Ø¯Ú©Ù…Ù‡ Ø³ÙØ§Ø±Ø´ Ø¯Ø± Ù…ÙˆØ¯Ø§Ù„
                    imageModalOrderBtn.setAttribute('data-food-id', foodId);
                    imageModalOrderBtn.setAttribute('data-food-title', title);
                    imageModalOrderBtn.setAttribute('data-food-price', price.replace(/,/g, ''));
                    imageModalOrderBtn.setAttribute('data-food-image', image);

                    // Ù†Ù…Ø§ÛŒØ´ Ù…ÙˆØ¯Ø§Ù„
                    imageModal.classList.add('active');
                    document.body.style.overflow = 'hidden';
                });
            });

            // Ø¨Ø³ØªÙ† Ù…ÙˆØ¯Ø§Ù„
            imageModalClose.addEventListener('click', function() {
                imageModal.classList.remove('active');
                document.body.style.overflow = 'auto';
            });

            // Ø¨Ø³ØªÙ† Ù…ÙˆØ¯Ø§Ù„ Ø¨Ø§ Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡
            imageModal.addEventListener('click', function(e) {
                if (e.target === imageModal) {
                    imageModal.classList.remove('active');
                    document.body.style.overflow = 'auto';
                }
            });

            // Ø¨Ø³ØªÙ† Ù…ÙˆØ¯Ø§Ù„ Ø¨Ø§ Ú©Ù„ÛŒØ¯ ESC
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && imageModal.classList.contains('active')) {
                    imageModal.classList.remove('active');
                    document.body.style.overflow = 'auto';
                }
            });

            // ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† Ø¯Ú©Ù…Ù‡ Ø³ÙØ§Ø±Ø´ Ø¯Ø± Ù…ÙˆØ¯Ø§Ù„
            imageModalOrderBtn.addEventListener('click', function() {
                const foodId = this.getAttribute('data-food-id');
                const foodTitle = this.getAttribute('data-food-title');
                const foodPrice = this.getAttribute('data-food-price');
                const foodImage = this.getAttribute('data-food-image');

                // ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ ØªØ§Ø¨Ø¹ Ø³ÙØ§Ø±Ø´
                addToSelectionList(foodId, foodTitle, foodPrice, foodImage);

                // Ø¨Ø³ØªÙ† Ù…ÙˆØ¯Ø§Ù„
                imageModal.classList.remove('active');
                document.body.style.overflow = 'auto';
            });
        });

        // ØªØ§Ø¨Ø¹ Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ Ù„ÛŒØ³Øª Ø§Ù†ØªØ®Ø§Ø¨ (Ù†Ù…ÙˆÙ†Ù‡)
        function addToSelectionList(foodId, foodTitle, foodPrice, foodImage) {
            // Ø§ÛŒÙ†Ø¬Ø§ Ú©Ø¯ Ø§ÙØ²ÙˆØ¯Ù† ØºØ°Ø§ Ø¨Ù‡ Ù„ÛŒØ³Øª Ø§Ù†ØªØ®Ø§Ø¨ Ø±Ø§ Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯
            console.log('Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ Ù„ÛŒØ³Øª:', foodTitle, foodPrice);

            // Ù†Ù…Ø§ÛŒØ´ Ù†ÙˆØªÛŒÙÛŒÚ©ÛŒØ´Ù†
            showNotification(foodTitle + ' Ø¨Ù‡ Ù„ÛŒØ³Øª Ø§Ù†ØªØ®Ø§Ø¨ Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯');
        }

        // Ù†Ù…Ø§ÛŒØ´ Ù†ÙˆØªÛŒÙÛŒÚ©ÛŒØ´Ù†
        function showNotification(message) {
            // Ú©Ø¯ Ù†Ù…Ø§ÛŒØ´ Ù†ÙˆØªÛŒÙÛŒÚ©ÛŒØ´Ù†
            alert(message); // Ø§ÛŒÙ†Ø¬Ø§ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¨Ø§ ÛŒÚ© Ø³ÛŒØ³ØªÙ… Ù†ÙˆØªÛŒÙÛŒÚ©ÛŒØ´Ù† Ø²ÛŒØ¨Ø§ Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† Ú©Ù†ÛŒØ¯
        }
    </script>

    <script>

class OrderManager {
    constructor(restaurantId) {
        this.restaurantId = restaurantId;
        this.selectedItems = [];
        this.totalPrice = 0;
        this.tableNumber = null;
        this.customerNotes = '';

        this.websocket = new OrderWebSocket(restaurantId);
        this.initializeEventListeners();
    }

    initializeEventListeners() {
        // Ø¯Ú©Ù…Ù‡ Ù†Ù…Ø§ÛŒØ´ Ø¨Ù‡ Ú¯Ø§Ø±Ø³ÙˆÙ†
        document.querySelector('.selection-list-show').addEventListener('click', () => {
            this.showOrderToWaiter();
        });

        // Ø¯Ú©Ù…Ù‡ ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ Ú¯Ø§Ø±Ø³ÙˆÙ†
        document.querySelector('.selection-display-call').addEventListener('click', () => {
            this.callWaiter();
        });

        // Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø³ÙØ§Ø±Ø´
        document.querySelectorAll('.order-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                const foodId = e.currentTarget.getAttribute('data-food-id');
                const foodTitle = e.currentTarget.getAttribute('data-food-title');
                const foodPrice = parseInt(e.currentTarget.getAttribute('data-food-price'));
                const foodImage = e.currentTarget.getAttribute('data-food-image');

                this.addToSelectionList(foodId, foodTitle, foodPrice, foodImage);
            });
        });
    }

    addToSelectionList(foodId, foodTitle, foodPrice, foodImage) {
        const existingItem = this.selectedItems.find(item => item.id === foodId);

        if (existingItem) {
            existingItem.quantity += 1;
            existingItem.totalPrice = existingItem.quantity * existingItem.price;
        } else {
            this.selectedItems.push({
                id: foodId,
                title: foodTitle,
                price: foodPrice,
                image: foodImage,
                quantity: 1,
                totalPrice: foodPrice
            });
        }

        this.updateSelectionList();
        this.showNotification(`${foodTitle} Ø¨Ù‡ Ù„ÛŒØ³Øª Ø§Ù†ØªØ®Ø§Ø¨ Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯`);
    }

    updateSelectionList() {
        this.calculateTotal();
        this.updateSelectionUI();
    }

    calculateTotal() {
        this.totalPrice = this.selectedItems.reduce((total, item) => total + item.totalPrice, 0);
    }

    updateSelectionUI() {
        const badge = document.querySelector('.selection-list-badge');
        const emptyState = document.querySelector('.selection-list-empty');
        const itemsContainer = document.querySelector('.selection-list-items');
        const displayItemsContainer = document.querySelector('.selection-display-items');
        const totalPriceElement = document.querySelector('.selection-display-total-price');

        // Ø¢Ù¾Ø¯ÛŒØª badge
        badge.textContent = this.selectedItems.reduce((total, item) => total + item.quantity, 0);

        // Ø¢Ù¾Ø¯ÛŒØª Ù„ÛŒØ³Øª Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§
        if (this.selectedItems.length > 0) {
            emptyState.style.display = 'none';

            // Ø¢Ù¾Ø¯ÛŒØª Ù„ÛŒØ³Øª Ø§Ù†ØªØ®Ø§Ø¨
            itemsContainer.innerHTML = this.selectedItems.map(item => `
                <div class="selection-list-item" data-food-id="${item.id}">
                    <div class="flex items-center gap-3">
                        ${item.image ?
                            `<img src="${item.image}" alt="${item.title}" class="w-12 h-12 rounded-lg object-cover">` :
                            `<div class="w-12 h-12 rounded-lg bg-gray-200 flex items-center justify-center">
                                <i class="fas fa-utensils text-gray-400"></i>
                            </div>`
                        }
                        <div class="flex-1 min-w-0">
                            <div class="font-medium text-sm text-gray-800 truncate">${item.title}</div>
                            <div class="text-xs text-gray-500">${item.price.toLocaleString()} ØªÙˆÙ…Ø§Ù†</div>
                        </div>
                    </div>
                    <div class="flex items-center gap-2">
                        <button class="quantity-btn decrease bg-gray-100 w-6 h-6 rounded-full flex items-center justify-center text-xs hover:bg-gray-200" data-food-id="${item.id}">-</button>
                        <span class="quantity text-sm font-medium w-8 text-center">${item.quantity}</span>
                        <button class="quantity-btn increase bg-gray-100 w-6 h-6 rounded-full flex items-center justify-center text-xs hover:bg-gray-200" data-food-id="${item.id}">+</button>
                        <button class="remove-btn text-red-500 hover:text-red-700 p-1" data-food-id="${item.id}">
                            <i class="fas fa-trash text-xs"></i>
                        </button>
                    </div>
                </div>
            `).join('');

            // Ø¢Ù¾Ø¯ÛŒØª ØµÙØ­Ù‡ Ù†Ù…Ø§ÛŒØ´
            displayItemsContainer.innerHTML = this.selectedItems.map(item => `
                <div class="selection-display-item">
                    <div class="flex items-center justify-between py-3 border-b border-gray-200">
                        <div class="flex items-center gap-3">
                            ${item.image ?
                                `<img src="${item.image}" alt="${item.title}" class="w-16 h-16 rounded-lg object-cover">` :
                                `<div class="w-16 h-16 rounded-lg bg-gray-200 flex items-center justify-center">
                                    <i class="fas fa-utensils text-gray-400 text-lg"></i>
                                </div>`
                            }
                            <div>
                                <div class="font-semibold text-gray-800">${item.title}</div>
                                <div class="text-sm text-gray-600">${item.price.toLocaleString()} ØªÙˆÙ…Ø§Ù†</div>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="text-lg font-bold text-gray-800">${item.quantity} Ã—</div>
                            <div class="text-sm text-gray-600">${item.totalPrice.toLocaleString()} ØªÙˆÙ…Ø§Ù†</div>
                        </div>
                    </div>
                </div>
            `).join('');

            // Ø¢Ù¾Ø¯ÛŒØª Ù‚ÛŒÙ…Øª Ú©Ù„
            totalPriceElement.textContent = this.totalPrice.toLocaleString() + ' ØªÙˆÙ…Ø§Ù†';

            // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† event listeners Ø¨Ø±Ø§ÛŒ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ú©Ù… Ùˆ Ø²ÛŒØ§Ø¯
            this.addQuantityEventListeners();
        } else {
            emptyState.style.display = 'block';
            itemsContainer.innerHTML = '';
            displayItemsContainer.innerHTML = '';
            totalPriceElement.textContent = '0 ØªÙˆÙ…Ø§Ù†';
        }
    }

    addQuantityEventListeners() {
        // Ø¯Ú©Ù…Ù‡ Ø§ÙØ²Ø§ÛŒØ´
        document.querySelectorAll('.quantity-btn.increase').forEach(btn => {
            btn.addEventListener('click', (e) => {
                const foodId = e.currentTarget.getAttribute('data-food-id');
                this.updateQuantity(foodId, 1);
            });
        });

        // Ø¯Ú©Ù…Ù‡ Ú©Ø§Ù‡Ø´
        document.querySelectorAll('.quantity-btn.decrease').forEach(btn => {
            btn.addEventListener('click', (e) => {
                const foodId = e.currentTarget.getAttribute('data-food-id');
                this.updateQuantity(foodId, -1);
            });
        });

        // Ø¯Ú©Ù…Ù‡ Ø­Ø°Ù
        document.querySelectorAll('.remove-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                const foodId = e.currentTarget.getAttribute('data-food-id');
                this.removeItem(foodId);
            });
        });
    }

    updateQuantity(foodId, change) {
        const item = this.selectedItems.find(item => item.id === foodId);
        if (item) {
            item.quantity += change;

            if (item.quantity <= 0) {
                this.removeItem(foodId);
            } else {
                item.totalPrice = item.quantity * item.price;
                this.updateSelectionList();
            }
        }
    }

    removeItem(foodId) {
        this.selectedItems = this.selectedItems.filter(item => item.id !== foodId);
        this.updateSelectionList();
    }

    showOrderToWaiter() {
        if (this.selectedItems.length === 0) {
            this.showNotification('Ù„Ø·ÙØ§Ù‹ Ø§Ø¨ØªØ¯Ø§ ØºØ°Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯', 'error');
            return;
        }

        // Ù†Ù…Ø§ÛŒØ´ ØµÙØ­Ù‡ Ù†Ù…Ø§ÛŒØ´ Ø³ÙØ§Ø±Ø´
        document.querySelector('.selection-display').classList.add('active');
    }

    async callWaiter() {
        if (this.selectedItems.length === 0) {
            this.showNotification('Ù„Ø·ÙØ§Ù‹ Ø§Ø¨ØªØ¯Ø§ ØºØ°Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯', 'error');
            return;
        }

        try {
            // Ø§ÛŒØ¬Ø§Ø¯ Ø¯Ø§Ø¯Ù‡ Ø³ÙØ§Ø±Ø´
            const orderData = {
                id: Date.now().toString(), // ID Ù…ÙˆÙ‚Øª
                items: this.selectedItems,
                total_price: this.totalPrice,
                table_number: this.tableNumber || 'ØªØ¹ÛŒÛŒÙ† Ù†Ø´Ø¯Ù‡',
                customer_notes: this.customerNotes,
                timestamp: new Date().toISOString(),
                status: 'pending'
            };

            // Ø§Ø±Ø³Ø§Ù„ Ø§Ø² Ø·Ø±ÛŒÙ‚ WebSocket
            const success = this.websocket.sendOrder(orderData);

            if (success) {
                this.showNotification('Ø³ÙØ§Ø±Ø´ Ø´Ù…Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¨Ù‡ Ú¯Ø§Ø±Ø³ÙˆÙ†â€ŒÙ‡Ø§ Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯', 'success');

                // Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ù„ÛŒØ³Øª Ù¾Ø³ Ø§Ø² Ø§Ø±Ø³Ø§Ù„ Ù…ÙˆÙÙ‚
                this.selectedItems = [];
                this.updateSelectionList();

                // Ø¨Ø³ØªÙ† ØµÙØ­Ù‡ Ù†Ù…Ø§ÛŒØ´
                document.querySelector('.selection-display').classList.remove('active');
            }

        } catch (error) {
            console.error('Error sending order:', error);
            this.showNotification('Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±Ø³Ø§Ù„ Ø³ÙØ§Ø±Ø´. Ù„Ø·ÙØ§Ù‹ Ø¯ÙˆØ¨Ø§Ø±Ù‡ ØªÙ„Ø§Ø´ Ú©Ù†ÛŒØ¯.', 'error');
        }
    }

    showNotification(message, type = 'info') {
        // Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø³ÛŒØ³ØªÙ… Ù†ÙˆØªÛŒÙÛŒÚ©ÛŒØ´Ù† Ù…ÙˆØ¬ÙˆØ¯ ÛŒØ§ Ø§ÛŒØ¬Ø§Ø¯ ÛŒÚ© Ù†ÙˆØªÛŒÙÛŒÚ©ÛŒØ´Ù† Ø¬Ø¯ÛŒØ¯
        const notification = document.createElement('div');
        notification.className = `fixed top-4 left-4 z-50 px-4 py-3 rounded-lg shadow-lg ${
            type === 'success' ? 'bg-green-500 text-white' :
            type === 'error' ? 'bg-red-500 text-white' :
            'bg-blue-500 text-white'
        }`;
        notification.textContent = message;

        document.body.appendChild(notification);

        setTimeout(() => {
            if (notification.parentNode) {
                notification.parentNode.removeChild(notification);
            }
        }, 3000);
    }
}

// Ù…Ù‚Ø¯Ø§Ø±Ø¯Ù‡ÛŒ Ø§ÙˆÙ„ÛŒÙ‡ ÙˆÙ‚ØªÛŒ ØµÙØ­Ù‡ Ù„ÙˆØ¯ Ø´Ø¯
document.addEventListener('DOMContentLoaded', function() {
    const restaurantId = '{{ restaurant.id }}'; // Ø§Ø² ØªÙ…Ù¾Ù„ÛŒØª Django Ù…ÛŒâ€ŒØ¢ÛŒØ¯

    // Ø§ÛŒØ¬Ø§Ø¯ Ù…Ø¯ÛŒØ± Ø³ÙØ§Ø±Ø´
    window.orderManager = new OrderManager(restaurantId);

    console.log('Order manager initialized for restaurant:', restaurantId);
});
</script>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Ø§Ù„Ù…Ù†Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ù†ÙˆÛŒ Ù‡Ù…Ø¨Ø±Ú¯Ø±ÛŒ
    const hamburgerBtn = document.getElementById('hamburgerMenuBtn');
    const menuSidebar = document.querySelector('.hamburger-menu-sidebar');
    const closeMenuBtn = document.querySelector('.close-menu-btn');
    const menuOverlay = document.querySelector('.hamburger-menu-overlay');

    // Ø¨Ø§Ø² Ú©Ø±Ø¯Ù† Ù…Ù†Ùˆ
    hamburgerBtn.addEventListener('click', function() {
        menuSidebar.style.transform = 'translateX(0)';
        menuOverlay.classList.remove('hidden');
        document.body.style.overflow = 'hidden';
    });

    // Ø¨Ø³ØªÙ† Ù…Ù†Ùˆ
    function closeMenu() {
        menuSidebar.style.transform = 'translateX(-100%)';
        menuOverlay.classList.add('hidden');
        document.body.style.overflow = '';
    }

    closeMenuBtn.addEventListener('click', closeMenu);
    menuOverlay.addEventListener('click', closeMenu);

    // Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ø¯Ø± Ù…Ù†Ùˆ
    const categoryMenuItems = document.querySelectorAll('.category-menu-item');
    categoryMenuItems.forEach(item => {
        item.addEventListener('click', function(e) {
            e.preventDefault();
            const categoryId = this.getAttribute('data-category');

            // Ø­Ø°Ù Ú©Ù„Ø§Ø³ active Ø§Ø² Ù‡Ù…Ù‡
            categoryMenuItems.forEach(i => i.classList.remove('active'));
            // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ú©Ù„Ø§Ø³ active Ø¨Ù‡ Ø¢ÛŒØªÙ… Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡
            this.classList.add('active');

            // Ø¨Ø³ØªÙ† Ù…Ù†Ùˆ
            closeMenu();

            // ÙÛŒÙ„ØªØ± Ú©Ø±Ø¯Ù† ØºØ°Ø§Ù‡Ø§ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ
            filterFoodsByCategory(categoryId);
        });
    });

    // ØªØ§Ø¨Ø¹ ÙÛŒÙ„ØªØ± Ú©Ø±Ø¯Ù† ØºØ°Ø§Ù‡Ø§
    function filterFoodsByCategory(categoryId) {
        const foodItems = document.querySelectorAll('.food-item');

        foodItems.forEach(item => {
            const itemCategory = item.getAttribute('data-category');

            if (categoryId === 'all' || itemCategory === categoryId) {
                item.style.display = 'block';
            } else {
                item.style.display = 'none';
            }
        });

        // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ ÙØ¹Ø§Ù„ Ø¯Ø± Ù†ÙˆØ§Ø± Ù¾Ø§ÛŒÛŒÙ†
        updateActiveCategory(categoryId);
    }

    // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ ÙØ¹Ø§Ù„
    function updateActiveCategory(categoryId) {
        const bottomItems = document.querySelectorAll('.category-bottom-item');
        bottomItems.forEach(item => {
            item.classList.remove('category-bottom-active');
            if (item.getAttribute('data-category') === categoryId) {
                item.classList.add('category-bottom-active');
            }
        });
    }
});
</script>

<style>
/* Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ù…Ù†ÙˆÛŒ Ù‡Ù…Ø¨Ø±Ú¯Ø±ÛŒ */
.hamburger-menu-sidebar {
    box-shadow: 4px 0 15px rgba(0, 0, 0, 0.1);
}

.hamburger-menu-sidebar.active {
    transform: translateX(0);
}

.close-menu-btn {
    transition: all 0.2s ease;
}

.close-menu-btn:hover {
    transform: scale(1.1);
}

.category-menu-item.active {
    background-color: #3b82f6;
}

.category-menu-item.active span {
    color: white !important;
}

.category-menu-item.active div,
.category-menu-item.active svg {
    background-color: #1d4ed8 !important;
    color: white !important;
}

/* Ø§Ù†ÛŒÙ…ÛŒØ´Ù†â€ŒÙ‡Ø§ */
.hamburger-menu-sidebar {
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.hamburger-menu-overlay {
    transition: opacity 0.3s ease;
}

/* Ø­Ø§Ù„Øª Ø¯Ø§Ø±Ú© Ù…ÙˆØ¯ */
.dark .hamburger-menu-sidebar {
    box-shadow: 4px 0 15px rgba(0, 0, 0, 0.3);
}

/* Ø±ÛŒØ³Ù¾Ø§Ù†Ø³ÛŒÙˆ */
@media (max-width: 640px) {
    .hamburger-menu-sidebar {
        width: 280px;
    }
}
</style>
    {% include "./resScript.html" %}
    {% include "./persianCall.html" %}

</body>
</html>