<!DOCTYPE html>
{% load static %}
{% load humanize %}
<html lang="fa" dir="rtl">
<head>
     <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



   {% if restaurant.isSeo %}
        <title>Ù…Ù†ÙˆÛŒ Ø¯ÛŒØ¬ÛŒØªØ§Ù„ {{ restaurant.title }} | Ø³ÙØ§Ø±Ø´ Ø¢Ù†Ù„Ø§ÛŒÙ† ØºØ°Ø§</title>
        <meta name="description" content="Ù…Ù†ÙˆÛŒ Ø¯ÛŒØ¬ÛŒØªØ§Ù„ Ø±Ø³ØªÙˆØ±Ø§Ù† {{ restaurant.title }} - {{ restaurant.text|striptags|truncatechars:150|default:'Ø³ÙØ§Ø±Ø´ Ø¢Ù†Ù„Ø§ÛŒÙ† ØºØ°Ø§ Ø¨Ø§ Ø¨Ù‡ØªØ±ÛŒÙ† Ú©ÛŒÙÛŒØª Ùˆ Ø³Ø±ÛŒØ¹â€ŒØªØ±ÛŒÙ† Ø²Ù…Ø§Ù† Ø¢Ù…Ø§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ' }}">
        <meta property="og:title" content="Ù…Ù†ÙˆÛŒ Ø¯ÛŒØ¬ÛŒØªØ§Ù„ {{ restaurant.title }}">
        <meta property="og:description" content="{{ restaurant.text|striptags|truncatechars:150|default:'Ø³ÙØ§Ø±Ø´ Ø¢Ù†Ù„Ø§ÛŒÙ† ØºØ°Ø§ Ø§Ø² Ø±Ø³ØªÙˆØ±Ø§Ù† '|add:restaurant.title }}">
        <meta property="og:type" content="website">
        <meta property="og:locale" content="fa_IR">
        <meta property="og:site_name" content="{{ restaurant.title }}">
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:title" content="Ù…Ù†ÙˆÛŒ Ø¯ÛŒØ¬ÛŒØªØ§Ù„ {{ restaurant.title }}">
        <meta name="twitter:description" content="{{ restaurant.text|striptags|truncatechars:150|default:'Ø³ÙØ§Ø±Ø´ Ø¢Ù†Ù„Ø§ÛŒÙ† ØºØ°Ø§ Ø§Ø² Ø±Ø³ØªÙˆØ±Ø§Ù† '|add:restaurant.title }}">
        <meta name="robots" content="index, follow">
        <meta name="author" content="{{ restaurant.title }}">
        <meta name="copyright" content="{{ restaurant.title }}">
        <meta name="language" content="fa">
        <meta name="coverage" content="Worldwide">
        <meta name="distribution" content="Global">
        <meta name="rating" content="General">
        <meta name="revisit-after" content="7 days">
        <link rel="canonical" href="{{ request.build_absolute_uri }}">
        <meta name="format-detection" content="telephone=no">
        <meta name="HandheldFriendly" content="True">
        <meta name="MobileOptimized" content="320">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
   {% endif %}

    <!-- Favicon -->
    {% if restaurant.logo %}
    <link rel="icon" href="{{ restaurant.logo.url }}" type="image/x-icon">
    <link rel="shortcut icon" href="{{ restaurant.logo.url }}" type="image/x-icon">
    {% else %}
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ½ï¸</text></svg>">
    {% endif %}

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    {% if restaurant.isSeo %}
      <script type="application/ld+json">
        {
        "@context": "https://schema.org",
        "@type": "FoodEstablishment",
        "@id": "{{ request.build_absolute_uri }}#restaurant",
        "name": "{{ restaurant.title }}",
        "description": "{{ restaurant.description|striptags|truncatechars:200|default:restaurant.text|striptags|truncatechars:200 }}",
        "url": "{{ request.build_absolute_uri }}",
        "telephone": "{{ restaurant.phone|default:'' }}",
        "address": {
            "@type": "PostalAddress",
            "streetAddress": "{{ restaurant.address|default:'' }}"
        },
        "openingHours": [
            {% if restaurant.openingTime and restaurant.closingTime %}
            "{{ restaurant.openingTime|time:'H:i' }}-{{ restaurant.closingTime|time:'H:i' }}"
            {% else %}
            "Mo-Su"
            {% endif %}
        ],
        "servesCuisine": [
            {% for menu_category in menu_categories %}
            "{{ menu_category.category.title }}"{% if not forloop.last %},{% endif %}
            {% endfor %}
        ],
        "menu": "{{ request.build_absolute_uri }}",
        "hasMenu": {
            "@type": "Menu",
            "name": "Ù…Ù†ÙˆÛŒ Ø¯ÛŒØ¬ÛŒØªØ§Ù„ {{ restaurant.title }}",
            "url": "{{ request.build_absolute_uri }}",
            "hasMenuSection": [
            {% for menu_category in menu_categories %}
            {
                "@type": "MenuSection",
                "name": "{{ menu_category.customTitle|default:menu_category.category.title }}",
                "hasMenuItem": [
                {% for food in foods %}
                {% if food.menuCategory.id == menu_category.id %}
                {
                    "@type": "MenuItem",
                    "name": "{{ food.title }}",
                    "description": "{{ food.description|default:'' }}",
                    "image": "{% if food.image %}{{ food.image.url }}{% endif %}",
                    "offers": {
                    "@type": "Offer",
                    "price": "{{ food.price }}",
                    "priceCurrency": "IRR"
                    }{% if food.preparationTime %},
                    "prepTime": "PT{{ food.preparationTime }}M"{% endif %}
                }{% if not forloop.last %},{% endif %}
                {% endif %}
                {% endfor %}
                ]
            }{% if not forloop.last %},{% endif %}
            {% endfor %}
            ]
        }
        }
      </script>
    {% endif %}

    <link rel="stylesheet" href="{% static 'assets/css/restaurant.css' %}">

    <style>
        /* Ø±ÙØ¹ Ù…Ø´Ú©Ù„ dark mode Ø¨Ø±Ø§ÛŒ Ù‡Ø¯Ø± */
        .dark-mode header {
            background-color: #1e293b !important;
            border-bottom-color: #334155 !important;
        }

        .dark-mode .search-container {
            background-color: #1e293b !important;
            border-top-color: #334155 !important;
        }

        .dark-mode .search-box {
            background-color: #334155 !important;
            border-color: #475569 !important;
        }

        .dark-mode .search-box input {
            color: #e2e8f0 !important;
        }

        .dark-mode .search-box input::placeholder {
            color: #94a3b8 !important;
        }

        /* Ø±ÙØ¹ Ù…Ø´Ú©Ù„ ÙØ§ØµÙ„Ù‡ Ø¬Ø³ØªØ¬Ùˆ */
        .main-content {
            padding-top: 140px !important;
        }

        /* Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ¯Ø§Ù„ Ø±Ø²Ø±Ùˆ Ø¨Ø±Ø§ÛŒ dark mode */
        .dark-mode .modal-content {
            background-color: #1e293b;
            color: #e2e8f0;
        }

        .dark-mode .modal-header {
            border-bottom-color: #334155;
        }

        .dark-mode .form-control {
            background-color: #334155;
            border-color: #475569;
            color: #e2e8f0;
        }

        .dark-mode .form-control:focus {
            background-color: #334155;
            border-color: #3b82f6;
            color: #e2e8f0;
        }

        .dark-mode .form-label {
            color: #e2e8f0;
        }

        .hidden {
            display: none !important;
        }

        /* Ù…Ø·Ù…Ø¦Ù† Ø´ÙˆÛŒÙ… Ù…ÙˆØ¯Ø§Ù„ Ø±Ø²Ø±Ùˆ Ù¾Ø´Øª ØªÙ‚ÙˆÛŒÙ… Ù‚Ø±Ø§Ø± Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ø¯ */
#reservationModal {
    z-index: 9990 !important;
}

.modal-backdrop {
    z-index: 9980 !important;
}
    </style>
</head>
<body>
    <!-- Ù„Ø§ÛŒÙ‡ Ù…Ø­Ùˆ -->
    <div class="overlay"></div>

    <!-- Ù†ÙˆØ§Ø± Ø¨Ø§Ù„Ø§ÛŒÛŒ Ø§ØµÙ„ÛŒ -->
    <header class="fixed top-0 left-0 right-0 z-40 bg-white shadow-sm">
        <div class="container mx-auto px-4 py-3">
            <div class="flex justify-between items-center">
                <div class="flex items-center gap-3">
                    <div class="hamburger-icon cursor-pointer text-gray-600">
                        <i class="fas fa-bars text-lg"></i>
                    </div>
                    <div class="logo-container flex items-center gap-3">
                        <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white font-bold text-sm">
                            Ø±
                        </div>
                        <div class="restaurant-info">
                            <div class="restaurant-name text-sm font-medium text-gray-800 whitespace-nowrap">
                                Ø±Ø³ØªÙˆØ±Ø§Ù† Ù†Ù…ÙˆÙ†Ù‡
                            </div>
                            <div class="restaurant-subtitle text-xs text-gray-500 hidden sm:block">
                                Ù…Ù†ÙˆÛŒ Ø¯ÛŒØ¬ÛŒØªØ§Ù„
                            </div>
                        </div>
                    </div>
                </div>

                <div class="header-actions flex items-center gap-2">
                    <a href="javascript:void(0);"
                       class="reservation-btn bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white px-3 py-2 rounded-xl font-medium flex items-center gap-2 transition-all duration-300 shadow-md hover:shadow-lg text-sm"
                       data-bs-toggle="modal"
                       data-bs-target="#reservationModal">
                        <i class="fas fa-chair text-xs"></i>
                        <span class="hidden sm:inline">Ø±Ø²Ø±Ùˆ Ù…ÛŒØ²</span>
                        <span class="sm:hidden">Ø±Ø²Ø±Ùˆ</span>
                    </a>

                    <a href="{% url 'menu:change_language' restaurant.slug %}?lang=en" class="lang-btn bg-gray-100 text-gray-700 no-underline w-9 h-9 rounded-lg flex items-center justify-center text-sm hover:bg-gray-200 transition-colors">
                        <span class="lang-text font-medium">EN</span>
                    </a>

                    <button id="theme-toggle" class="header-icon bg-gray-100 text-gray-600 w-9 h-9 rounded-lg flex items-center justify-center hover:bg-gray-200 transition-colors">
                        <i class="fas fa-moon text-sm"></i>
                    </button>
                </div>
            </div>
        </div>

        <div class="search-container bg-white py-3 border-t border-gray-100">
            <div class="container mx-auto px-4">
                <div class="search-box bg-gray-50 rounded-xl px-4 py-2 flex items-center gap-3 border border-gray-200">
                    <i class="fas fa-search text-gray-400 text-sm"></i>
                    <input type="text" placeholder="Ø¬Ø³ØªØ¬ÙˆÛŒ ØºØ°Ø§..."
                           class="w-full bg-transparent border-none outline-none text-gray-700 placeholder-gray-400 text-sm">
                </div>
            </div>
        </div>
    </header>

    <!-- Ù…Ø­ØªÙˆØ§ÛŒ Ø§ØµÙ„ÛŒ -->
    <div class="main-content">
        <div class="container mx-auto px-4 py-4">
            <div class="food-grid">
                {% for food in foods %}
                <div class="food-item" data-category="{{ food.menuCategory.id|default:'all' }}">
                    <div class="food-card">
                        <div class="food-card-inner">
                            <div class="food-image-container">
                                {% if food.image %}
                                <img src="{{ food.image.url }}" alt="{{ food.title }}"
                                     class="w-full h-full object-cover food-image">
                                {% else %}
                                <div class="w-full h-full bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center text-gray-400 food-image">
                                    <i class="fas fa-utensils text-xl"></i>
                                </div>
                                {% endif %}
                            </div>
                            <div class="food-details">
                                <div class="food-content">
                                    <div class="flex justify-between items-start gap-2 mb-2">
                                        <span class="food-title flex-1">{{ food.title }}</span>
                                        <span class="food-price">
                                            {{ food.price|intcomma }} ØªÙˆÙ…Ø§Ù†
                                        </span>
                                    </div>
                                    <p class="food-description mb-3">
                                        {{ food.description|default:"ØªÙˆØ¶ÛŒØ­Ø§Øª Ù…ÙˆØ¬ÙˆØ¯ Ù†ÛŒØ³Øª" }}
                                    </p>
                                </div>
                                <div class="flex justify-between items-center gap-2">
                                    <div class="flex items-center gap-3">
                                        <div class="cooking-time bg-gray-50 px-2 py-1 rounded-lg">
                                            <i class="fas fa-clock text-xs"></i>
                                            <span class="text-xs font-medium">{{ food.preparationTime|default:"-" }} Ø¯Ù‚ÛŒÙ‚Ù‡</span>
                                        </div>
                                        <button class="sound-btn text-gray-400 hover:text-blue-500 transition-colors duration-200 p-1 rounded-lg hover:bg-gray-100 {% if food.sound %}cursor-pointer{% else %}cursor-not-allowed opacity-50{% endif %}"
                                                {% if food.sound %}data-sound="{{ food.sound.url }}"{% endif %}
                                                title="{% if food.sound %}Ù¾Ø®Ø´ ØªÙˆØ¶ÛŒØ­Ø§Øª ØµÙˆØªÛŒ{% else %}ØªÙˆØ¶ÛŒØ­Ø§Øª ØµÙˆØªÛŒ Ù…ÙˆØ¬ÙˆØ¯ Ù†ÛŒØ³Øª{% endif %}">
                                            <i class="fas fa-volume-up text-xs"></i>
                                        </button>
                                    </div>
                                    <button class="order-btn"
                                            data-food-id="{{ food.id }}"
                                            data-food-title="{{ food.title }}"
                                            data-food-price="{{ food.price }}"
                                            data-food-image="{% if food.image %}{{ food.image.url }}{% endif %}">
                                        <span class="order-text">Ø³ÙØ§Ø±Ø´</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                {% empty %}
                <div class="col-span-2 text-center py-12 text-gray-400">
                    <i class="fas fa-utensils text-4xl mb-3 opacity-50"></i>
                    <p class="text-base">Ù‡ÛŒÚ† ØºØ°Ø§ÛŒÛŒ Ø¯Ø± Ù…Ù†Ùˆ Ù…ÙˆØ¬ÙˆØ¯ Ù†ÛŒØ³Øª</p>
                    <p class="text-sm mt-1 opacity-75">Ù„Ø·ÙØ§Ù‹ Ø¨Ø¹Ø¯Ø§Ù‹ Ù…Ø±Ø§Ø¬Ø¹Ù‡ Ú©Ù†ÛŒØ¯</p>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>

    <!-- Ø¯Ú©Ù…Ù‡ Ù„ÛŒØ³Øª Ø§Ù†ØªØ®Ø§Ø¨ ØºØ°Ø§ -->
    <div class="selection-list-btn">
        <i class="fas fa-list"></i>
        <div class="selection-list-badge">0</div>
    </div>

    <!-- Ù¾Ù†Ù„ Ù„ÛŒØ³Øª Ø§Ù†ØªØ®Ø§Ø¨ ØºØ°Ø§ -->
    <div class="selection-list-panel">
        <div class="selection-list-header">
            <span class="selection-list-title">Ù„ÛŒØ³Øª Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ù…Ø§</span>
            <div class="selection-list-close text-gray-500">
                <i class="fas fa-times"></i>
            </div>
        </div>
        <div class="selection-list-content">
            <div class="selection-list-empty">
                <i class="fas fa-list text-4xl mb-3 opacity-50"></i>
                <p class="text-base">Ù„ÛŒØ³Øª Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ù…Ø§ Ø®Ø§Ù„ÛŒ Ø§Ø³Øª</p>
                <p class="text-sm mt-1 opacity-75">ØºØ°Ø§Ù‡Ø§ÛŒ Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ø§ Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡ Ø³ÙØ§Ø±Ø´ Ø°Ø®ÛŒØ±Ù‡ Ú©Ù†ÛŒØ¯</p>
            </div>
            <div class="selection-list-items">
                <!-- Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡ Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ -->
            </div>
        </div>
        <div class="selection-list-actions">
            <div class="selection-list-action-btn selection-list-clear">Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ù„ÛŒØ³Øª</div>
            <div class="selection-list-action-btn selection-list-show">Ù†Ù…Ø§ÛŒØ´ Ø¨Ù‡ Ú¯Ø§Ø±Ø³ÙˆÙ†</div>
        </div>
    </div>

    <!-- ØµÙØ­Ù‡ Ù†Ù…Ø§ÛŒØ´ Ù„ÛŒØ³Øª Ø§Ù†ØªØ®Ø§Ø¨ -->
    <div class="selection-display">
        <div class="selection-display-header">
            <span class="selection-display-title">Ù„ÛŒØ³Øª Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ù…Ø§</span>
            <div class="selection-display-close text-gray-500">
                <i class="fas fa-times"></i>
            </div>
        </div>
        <div class="selection-display-items">
            <!-- Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡ Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ -->
        </div>
        <div class="selection-display-total">
            <span class="selection-display-total-label">Ø¬Ù…Ø¹ Ú©Ù„:</span>
            <span class="selection-display-total-price">0 ØªÙˆÙ…Ø§Ù†</span>
        </div>
        <div class="selection-display-actions">
            <div class="selection-display-action-btn selection-display-back">Ø¨Ø§Ø²Ú¯Ø´Øª</div>
            <div class="selection-display-action-btn selection-display-call">ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ Ú¯Ø§Ø±Ø³ÙˆÙ†</div>
        </div>
    </div>

    <!-- Ù…Ù†ÙˆÛŒ Ú©Ø´ÙˆÛŒÛŒ Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒâ€ŒÙ‡Ø§ Ø§Ø² Ø³Ù…Øª Ø±Ø§Ø³Øª -->
    <div class="categories-slider scrollbar-hide">
        <div class="slider-header">
            <div class="drag-handle"></div>
            <span class="slider-title">Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒâ€ŒÙ‡Ø§</span>
            <div class="slider-close text-gray-500">
                <i class="fas fa-times"></i>
            </div>
        </div>
        <div class="slider-categories">
            <div class="slider-category-item slider-category-active" data-category="all">
                <div class="slider-category-icon bg-gradient-to-br from-blue-400 to-blue-500 text-white shadow-md">
                    <i class="fas fa-utensils"></i>
                </div>
                <span class="slider-category-name">Ù‡Ù…Ù‡ Ù…ÙˆØ§Ø±Ø¯</span>
            </div>

            {% for menu_category in menu_categories %}
            <div class="slider-category-item" data-category="{{ menu_category.id }}">
                {% if menu_category.displayImage %}
                <img src="{{ menu_category.displayImage.url }}" alt="{{ menu_category.category.title }}"
                     class="slider-category-icon object-cover shadow-md">
                {% else %}
                <div class="slider-category-icon bg-gradient-to-br from-gray-300 to-gray-400 text-gray-600 shadow-md">
                    <i class="fas fa-utensils"></i>
                </div>
                {% endif %}
                <span class="slider-category-name">{{ menu_category.category.title }}</span>
            </div>
            {% endfor %}
        </div>
    </div>

    <!-- Ø¯Ú©Ù…Ù‡ Ø¨Ø§Ø² Ú©Ø±Ø¯Ù† Ù…Ù†ÙˆÛŒ Ú©Ø´ÙˆÛŒÛŒ - ÙÙ„Ø´ Ø¨Ù‡ Ø³Ù…Øª Ø±Ø§Ø³Øª Ùˆ Ø¯Ø± Ø³Ù…Øª Ú†Ù¾ ØµÙØ­Ù‡ -->
    <div class="categories-toggle">
        <i class="fas fa-chevron-right"></i>
    </div>

    <!-- Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ù¾Ø§ÛŒÛŒÙ† ØµÙØ­Ù‡ -->
    <div class="categories-bottom">
        <div class="categories-scroll scrollbar-hide">
            <div class="category-bottom-item category-bottom-active" data-category="all">
                <div class="category-bottom-icon bg-gradient-to-br from-blue-400 to-blue-500 text-white shadow-md">
                    <i class="fas fa-utensils"></i>
                </div>
                <span class="category-bottom-name">Ù‡Ù…Ù‡</span>
            </div>

            {% for menu_category in menu_categories %}
            <div class="category-bottom-item" data-category="{{ menu_category.id }}">
                {% if menu_category.displayImage %}
                <img src="{{ menu_category.displayImage.url }}" alt="{{ menu_category.category.title }}"
                     class="category-bottom-icon object-cover shadow-md">
                {% else %}
                <div class="category-bottom-icon bg-gradient-to-br from-gray-300 to-gray-400 text-gray-600 shadow-md">
                    <i class="fas fa-utensils"></i>
                </div>
                {% endif %}
                <span class="category-bottom-name">{{ menu_category.category.title|truncatechars:10 }}</span>
            </div>
            {% endfor %}
        </div>
    </div>

    <!-- Ù…ÙˆØ¯Ø§Ù„ Ø±Ø²Ø±Ùˆ Ù…ÛŒØ² -->
    <div class="modal fade" id="reservationModal" tabindex="-1" aria-labelledby="reservationModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header bg-gradient-to-r from-orange-500 to-red-500 text-white">
                    <h5 class="modal-title font-bold" id="reservationModalLabel">
                        <i class="fas fa-calendar-check ml-2"></i>
                        Ø±Ø²Ø±Ùˆ Ù…ÛŒØ² Ø¯Ø± {{ restaurant.title }}
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body p-4">

                    <!-- Ù…Ø±Ø­Ù„Ù‡ Û±: Ø§Ù†ØªØ®Ø§Ø¨ ØªØ§Ø±ÛŒØ® Ùˆ ØªØ¹Ø¯Ø§Ø¯ Ù…Ù‡Ù…Ø§Ù† -->
                    <div id="step1">
                        <div class="mb-4">
                            <h6 class="font-semibold text-gray-700 mb-3">ğŸ“… Ø§Ù†ØªØ®Ø§Ø¨ ØªØ§Ø±ÛŒØ® Ùˆ ØªØ¹Ø¯Ø§Ø¯ Ù…Ù‡Ù…Ø§Ù†</h6>

                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label for="reservationDate" class="block text-sm font-medium text-gray-700 mb-2">
                                        ØªØ§Ø±ÛŒØ® Ø±Ø²Ø±Ùˆ
                                    </label>
                                    <div class="mb-3">

    <div class="flex items-center gap-2">
        <input type="text"
               class="form-control flex-1"
               id="reservationDate"
               placeholder="Ø¨Ø±Ø§ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ ØªØ§Ø±ÛŒØ® Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯"
               readonly
               dir="ltr">
        <button type="button"
                class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors"
                id="openCalendarBtn">
            <i class="fas fa-calendar-alt"></i>
        </button>
    </div>
</div>
                                    <p class="text-xs text-gray-500 mt-1">ØªØ§Ø±ÛŒØ® Ø±Ø§ Ø¨Ù‡ ØµÙˆØ±Øª Ø´Ù…Ø³ÛŒ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯</p>
                                </div>

                                <div>
                                    <label for="guestCount" class="block text-sm font-medium text-gray-700 mb-2">
                                        ØªØ¹Ø¯Ø§Ø¯ Ù…Ù‡Ù…Ø§Ù†
                                    </label>
                                    <select class="form-control" id="guestCount">
                                        <option value="1">1 Ù†ÙØ±</option>
                                        <option value="2" selected>2 Ù†ÙØ±</option>
                                        <option value="3">3 Ù†ÙØ±</option>
                                        <option value="4">4 Ù†ÙØ±</option>
                                        <option value="5">5 Ù†ÙØ±</option>
                                        <option value="6">6 Ù†ÙØ±</option>
                                        <option value="7">7 Ù†ÙØ±</option>
                                        <option value="8">8 Ù†ÙØ±</option>
                                        <option value="9">9 Ù†ÙØ±</option>
                                        <option value="10">10 Ù†ÙØ±</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="flex justify-end">
                            <button type="button"
                                    class="bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white px-6 py-2 rounded-lg font-medium transition-all duration-300 flex items-center gap-2"
                                    onclick="checkAvailability()">
                                <i class="fas fa-search"></i>
                                Ø¨Ø±Ø±Ø³ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ
                            </button>
                        </div>
                    </div>

                    <!-- Ù…Ø±Ø­Ù„Ù‡ Û²: Ø§Ù†ØªØ®Ø§Ø¨ Ù…ÛŒØ² Ùˆ Ø²Ù…Ø§Ù† -->
                    <div id="step2" class="hidden">
                        <div class="mb-4">
                            <h6 class="font-semibold text-gray-700 mb-3">ğŸª‘ Ø§Ù†ØªØ®Ø§Ø¨ Ù…ÛŒØ² Ùˆ Ø²Ù…Ø§Ù†</h6>
                            <div id="availabilityResults" class="space-y-3 max-h-96 overflow-y-auto"></div>
                        </div>

                        <div class="flex justify-between">
                            <button type="button"
                                    class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg font-medium transition-all duration-300 flex items-center gap-2"
                                    onclick="backToStep1()">
                                <i class="fas fa-arrow-right"></i>
                                Ø¨Ø§Ø²Ú¯Ø´Øª
                            </button>
                        </div>
                    </div>

                    <!-- Ù…Ø±Ø­Ù„Ù‡ Û³: Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù…Ø´ØªØ±ÛŒ -->
                    <div id="step3" class="hidden">
                        <div class="mb-4">
                            <h6 class="font-semibold text-gray-700 mb-3">ğŸ‘¤ Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØªÙ…Ø§Ø³</h6>
                            <form id="reservationForm">
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div>
                                        <label for="fullName" class="form-label">Ù†Ø§Ù… Ú©Ø§Ù…Ù„ *</label>
                                        <input type="text" class="form-control" id="fullName" required>
                                    </div>

                                    <div>
                                        <label for="phoneNumber" class="form-label">Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³ *</label>
                                        <input type="tel" class="form-control" id="phoneNumber" required dir="ltr">
                                    </div>

                                    <div>
                                        <label for="nationalCode" class="form-label">Ú©Ø¯ Ù…Ù„ÛŒ (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)</label>
                                        <input type="text" class="form-control" id="nationalCode" dir="ltr">
                                    </div>

                                    <div class="md:col-span-2">
                                        <label for="specialRequests" class="form-label">Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§ÛŒ ÙˆÛŒÚ˜Ù‡</label>
                                        <textarea class="form-control" id="specialRequests" rows="3" placeholder="Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§ÛŒ Ø®Ø§Øµ Ù…Ø§Ù†Ù†Ø¯ Ø¬Ø´Ù† ØªÙˆÙ„Ø¯ØŒ Ø³Ø§Ù„Ú¯Ø±Ø¯ Ùˆ..."></textarea>
                                    </div>
                                </div>
                            </form>
                        </div>

                        <div class="flex justify-between">
                            <button type="button"
                                    class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg font-medium transition-all duration-300 flex items-center gap-2"
                                    onclick="backToStep2()">
                                <i class="fas fa-arrow-right"></i>
                                Ø¨Ø§Ø²Ú¯Ø´Øª
                            </button>

                            <button type="button"
                                    class="bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white px-6 py-2 rounded-lg font-medium transition-all duration-300 flex items-center gap-2"
                                    onclick="submitReservation()">
                                <i class="fas fa-check"></i>
                                Ø«Ø¨Øª Ø±Ø²Ø±Ùˆ
                            </button>
                        </div>
                    </div>

                    <!-- Ù…Ø±Ø­Ù„Ù‡ Û´: ØªØ£ÛŒÛŒØ¯ Ù†Ù‡Ø§ÛŒÛŒ -->
                    <div id="step4" class="hidden">
                        <div class="text-center py-4">
                            <div class="mb-4">
                                <i class="fas fa-check-circle text-5xl text-green-500 mb-3"></i>
                            </div>

                            <div id="successMessage" class="mb-6"></div>

                            <div id="verificationSection" class="hidden">
                                <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4">
                                    <h6 class="font-semibold text-yellow-800 mb-2">ğŸ“± ØªØ£ÛŒÛŒØ¯ Ø±Ø²Ø±Ùˆ</h6>
                                    <p class="text-sm text-yellow-700 mb-3">Ú©Ø¯ ØªØ£ÛŒÛŒØ¯ Ø¨Ù‡ Ø´Ù…Ø§Ø±Ù‡ Ø´Ù…Ø§ Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯</p>

                                    <div class="flex gap-2 justify-center">
                                        <input type="text"
                                               class="w-32 px-3 py-2 border border-yellow-300 rounded-lg text-center font-mono text-lg"
                                               id="confirmationCode"
                                               placeholder="______"
                                               maxlength="6"
                                               dir="ltr">
                                        <button type="button"
                                                class="bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded-lg font-medium transition-all duration-300"
                                                onclick="verifyReservation()">
                                            ØªØ£ÛŒÛŒØ¯
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <div id="verifiedSection" class="hidden">
                                <div class="bg-green-50 border border-green-200 rounded-lg p-4">
                                    <h6 class="font-semibold text-green-800 mb-2">âœ… Ø±Ø²Ø±Ùˆ ØªØ£ÛŒÛŒØ¯ Ø´Ø¯</h6>
                                    <p class="text-sm text-green-700" id="finalMessage"></p>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>

    <!-- Ø¨Ø®Ø´ ØªÙˆØ¶ÛŒØ­Ø§Øª Ø±Ø³ØªÙˆØ±Ø§Ù† -->
    {% if restaurant.isSeo %}
      <div class="restaurant-description-section" style="max-width: 800px; margin: 40px auto; padding: 0 20px;">
        <div class="description-container" style="background: #f8f9fa; border-radius: 12px; padding: 0; overflow: hidden; border: 1px solid #e5e7eb;">
            <div class="description-header" style="padding: 16px 20px; cursor: pointer; display: flex; justify-content: space-between; align-items: center; transition: background-color 0.3s ease;">
                <span style="font-size: 1rem; margin: 0; color: #374151; font-weight: 600; display: flex; align-items: center; gap: 8px;">
                    <i class="fas fa-info-circle" style="color: #3b82f6;"></i>
                     Ø¯Ø±Ø¨Ø§Ø±Ù‡ {{ restaurant.title }}
                </span>
                <div class="toggle-icon" style="transition: transform 0.3s ease; color: #6b7280;">
                    <i class="fas fa-chevron-down"></i>
                </div>
            </div>

            <div class="description-content" style="padding: 0 20px; max-height: 0; overflow: hidden; transition: all 0.4s ease; border-top: 1px solid transparent;">
                <div style="padding: 20px 0; text-align: justify; line-height: 1.7; color: #4b5563; font-size: 0.9rem;">
                    {% if restaurant.text and restaurant.text != 'Ø®Ø§Ù„ÛŒ' %}
                     {% autoescape off %}
                        <h2>Ø¯Ø±Ø¨Ø§Ø±Ù‡ {{ restaurant.title }}</h2>
                        {{ restaurant.text }}
                     {% endautoescape %}
                    {% else %}
                        <p style="color: #9ca3af; font-style: italic; text-align: center;">
                            ØªÙˆØ¶ÛŒØ­Ø§ØªÛŒ Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ø±Ø³ØªÙˆØ±Ø§Ù† Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª
                        </p>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
    {% endif %}

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    {% include "./resScript.html" %}
    {% include "./persianCall.html" %}



</body>
</html>