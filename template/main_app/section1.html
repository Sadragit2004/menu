<div class="max-w-7xl mx-auto px-4 sm:px-6 py-12 sm:py-20">
    <!-- مودال اطلاعات مرکز -->
    <div id="contactModal" class="fixed inset-0 z-50 hidden overflow-y-auto">
        <div class="flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
            <!-- پس‌زمینه نیمه شفاف -->
            <div id="modalBackdrop" class="fixed inset-0 bg-black bg-opacity-70 transition-opacity"></div>

            <!-- مودال مرکزی -->
            <div class="inline-block align-bottom bg-gray-900 rounded-2xl text-right overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full">
                <!-- هدر مودال -->
                <div class="bg-gradient-to-r from-gray-800 to-gray-900 px-6 py-5 border-b border-gray-700">
                    <div class="flex justify-between items-center">
                        <h3 class="text-xl font-black text-white">اطلاعات مرکز</h3>
                        <button id="closeModal" class="text-gray-400 hover:text-white text-2xl font-bold">
                            &times;
                        </button>
                    </div>
                </div>

                <!-- محتوای مودال -->
                <div class="px-6 py-8">
                    <!-- تلفن‌های تماس -->
                    <div class="mb-8">
                        <h4 class="text-lg font-bold text-white mb-4 border-r-4 border-yellow-500 pr-3">شماره‌های تماس</h4>
                        <div class="space-y-4">
                            <div class="flex items-center justify-between bg-gray-800 p-4 rounded-xl hover:bg-gray-700 transition">
                                <div class="flex items-center">
                                    <div class="ml-4">
                                        <p class="text-gray-300 text-sm">شماره اول</p>
                                        <a href="tel:09309087909" class="text-white text-lg font-bold hover:text-yellow-400 transition">۰۹۳۰۹۰۸۷۹۰۹</a>
                                    </div>
                                </div>
                                <div class="bg-green-900 text-green-300 p-2 rounded-lg">
                                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
                                    </svg>
                                </div>
                            </div>

                            <div class="flex items-center justify-between bg-gray-800 p-4 rounded-xl hover:bg-gray-700 transition">
                                <div class="flex items-center">
                                    <div class="ml-4">
                                        <p class="text-gray-300 text-sm">شماره دوم</p>
                                        <a href="tel:09146597108" class="text-white text-lg font-bold hover:text-yellow-400 transition">۰۹۱۴۶۵۹۷۱۰۸</a>
                                    </div>
                                </div>
                                <div class="bg-green-900 text-green-300 p-2 rounded-lg">
                                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
                                    </svg>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- آدرس -->
                    <div>
                        <h4 class="text-lg font-bold text-white mb-4 border-r-4 border-yellow-500 pr-3">آدرس دفتر مرکزی</h4>
                        <div class="bg-gray-800 p-5 rounded-xl">
                            <div class="flex items-start">
                                <div class="ml-4 mt-1 text-yellow-400">
                                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                    </svg>
                                </div>
                                <div>
                                    <p class="text-white text-lg leading-relaxed">
                                        چهارراه منصور، مجتمع تجاری اطلس، طبقه منفی ۱، شرکت رنک صفر
                                    </p>
                                    <p class="text-gray-400 text-sm mt-2">
                                        این آرسی دفتر اصلی شرکت رنک صفر می‌باشد
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- فوتر مودال -->
                <div class="bg-gray-800 px-6 py-4 border-t border-gray-700">
                    <div class="flex justify-center">
                        <button id="closeModalBtn" class="bg-yellow-500 hover:bg-yellow-600 text-gray-900 font-bold py-3 px-8 rounded-lg transition">
                            بستن
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    {% for content in contents %}
    <div class="flex flex-col lg:grid lg:grid-cols-2 gap-8 sm:gap-12 items-center">
        <!-- سمت چپ - محتوای متنی -->
        <div class="order-2 lg:order-1 space-y-6 sm:space-y-8 text-center lg:text-right">
            <!-- عنوان اصلی -->
            <h1 class="!text-[1.75rem] sm:!text-3xl md:!text-4xl lg:!text-[2.75rem] xl:!text-6xl font-black leading-tight">
                {{ content.title }}
            </h1>

            <!-- دکمه‌ها - با اضافه شدن دکمه اطلاعات مرکز -->
            <div class="flex flex-row gap-3 sm:gap-4 justify-center lg:justify-start flex-wrap">
                <a href="/panel/"
                   class="bg-white text-black px-6 py-3 rounded-lg font-bold hover:bg-gray-100 transition text-sm sm:text-base">
                    منو رستوران 10 دقیقه
                </a>

                <button id="showContactModal"
                   class="bg-gradient-to-r from-yellow-600 to-yellow-700 text-white px-6 py-3 rounded-lg font-bold hover:from-yellow-700 hover:to-yellow-800 transition text-sm sm:text-base shadow-lg hover:shadow-yellow-900/30">
                    اطلاعات مرکز
                </button>

                <a href="/accounts/login"
                   class="border border-gray-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-gray-800 transition text-sm sm:text-base">
                    ثبت نام
                </a>
            </div>

            <!-- توضیحات -->
            <p class="text-lg sm:text-xl text-gray-300 leading-relaxed max-w-2xl mx-auto lg:mx-0">
                {{ content.description }}
            </p>
        </div>

        <!-- سمت راست - تصویر -->
        <div class="order-1 lg:order-2 food-image w-full h-64 sm:h-80 lg:h-96">
            <img
                src="{{ content.image.url }}"
                alt="{{ content.title }}"
                class="w-full h-full object-cover"
            >
        </div>
    </div>

    {% if forloop.first %}
    <!-- آمار و ارقام -->
    <div class="grid grid-cols-2 sm:grid-cols-4 gap-6 sm:gap-8 mt-12 sm:mt-20 pt-8 border-t border-gray-800">
        <div class="text-center">
            <div class="text-2xl sm:text-3xl font-black text-white">۵۰۰+</div>
            <div class="text-gray-400 text-xs sm:text-sm">رستوران فعال</div>
        </div>
        <div class="text-center">
            <div class="text-2xl sm:text-3xl font-black text-white">۵۰k+</div>
            <div class="text-gray-400 text-xs sm:text-sm">سفارش موفق</div>
        </div>
        <div class="text-center">
            <div class="text-2xl sm:text-3xl font-black text-white">۴.۹</div>
            <div class="text-gray-400 text-xs sm:text-sm">امتیاز کاربران</div>
        </div>
        <div class="text-center">
            <div class="text-2xl sm:text-3xl font-black text-white">۹۸٪</div>
            <div class="text-gray-400 text-xs sm:text-sm">رضایت مشتری</div>
        </div>
    </div>
    {% endif %}

    {% if not forloop.last %}
    <div class="my-12"></div>
    {% endif %}
    {% endfor %}
</div>

<!-- اسکریپت مدیریت مودال -->
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const modal = document.getElementById('contactModal');
        const showModalBtn = document.getElementById('showContactModal');
        const closeModalBtn = document.getElementById('closeModalBtn');
        const closeModalIcon = document.getElementById('closeModal');
        const modalBackdrop = document.getElementById('modalBackdrop');

        // نمایش مودال
        showModalBtn.addEventListener('click', function() {
            modal.classList.remove('hidden');
            document.body.style.overflow = 'hidden'; // جلوگیری از اسکرول صفحه
        });

        // بستن مودال با کلیک روی دکمه بستن
        closeModalBtn.addEventListener('click', closeModal);
        closeModalIcon.addEventListener('click', closeModal);

        // بستن مودال با کلیک روی پس‌زمینه
        modalBackdrop.addEventListener('click', closeModal);

        // بستن مودال با کلید ESC
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && !modal.classList.contains('hidden')) {
                closeModal();
            }
        });

        // تابع بستن مودال
        function closeModal() {
            modal.classList.add('hidden');
            document.body.style.overflow = 'auto'; // فعال کردن مجدد اسکرول صفحه
        }

        // انیمیشن ورود مودال
        modal.addEventListener('click', function(e) {
            if (e.target === modal) {
                closeModal();
            }
        });
    });
</script>

<style>

    @media (min-width: 1280px) {
  .xl\:\!text-6xl {
    font-size: 2.75rem !important;
    line-height: 1 !important;
  }
}


    #contactModal .inline-block {
        animation: modalFadeIn 0.3s ease-out;
    }

    @keyframes modalFadeIn {
        from {
            opacity: 0;
            transform: translateY(-20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    /* استایل مخصوص نمایش تلفن‌ها در موبایل */
    @media (max-width: 640px) {
        #contactModal .inline-block {
            width: 95%;
            margin: 1rem auto;
        }
    }

    /* استایل دکمه اطلاعات مرکز */
    #showContactModal {
        position: relative;
        overflow: hidden;
    }

    #showContactModal::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
        transform: translateX(-100%);
    }

    #showContactModal:hover::after {
        animation: shimmer 1.5s infinite;
    }

    @keyframes shimmer {
        100% {
            transform: translateX(100%);
        }
    }
</style>